<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contribute to WarpX &mdash; MicroEleX 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=f2a433a1"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/design-tabs.js?v=36754332"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            MicroEleX
          </a>
              <div class="version">
                1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">INSTALLATION</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install/artemis.html">ARTEMIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/eleqtroneX.html">ELEQTRONeX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/ferrox.html">FerroX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/magnex.html">MagneX</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">USAGE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usage/run_artemis.html">Run ARTEMIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/run_eleqtronex.html">Run ELEQTRONeX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/run_ferrox.html">Run FerroX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/run_magnex.html">Run MagneX</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">DATA ANALYSIS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dataanalysis/formats.html">Output Formats and Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataanalysis/yt.html">yt-project</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">EPILOGUE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgements.html">Funding and Acknowledgements</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MicroEleX</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Contribute to WarpX</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/developers/contributing.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="contribute-to-warpx">
<span id="developers-contributing"></span><h1>Contribute to WarpX<a class="headerlink" href="#contribute-to-warpx" title="Link to this heading"></a></h1>
<p>We welcome new contributors!
Here is how to participate to the WarpX development.</p>
<section id="git-workflow">
<h2>Git workflow<a class="headerlink" href="#git-workflow" title="Link to this heading"></a></h2>
<p>The WarpX project uses <a class="reference external" href="https://git-scm.com">git</a> for version control.
If you are new to git, you can follow one of these tutorials:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.atlassian.com/git/tutorials/learn-git-with-bitbucket-cloud">Learn git with bitbucket</a></p></li>
<li><p><a class="reference external" href="http://rogerdudler.github.io/git-guide/">git - the simple guide</a></p></li>
</ul>
<section id="configure-your-github-account-development-machine">
<h3>Configure your GitHub Account &amp; Development Machine<a class="headerlink" href="#configure-your-github-account-development-machine" title="Link to this heading"></a></h3>
<p>First, let’s setup your Git environment and GitHub account.</p>
<ol class="arabic simple">
<li><p>Go to <a class="reference external" href="https://github.com/settings/profile">https://github.com/settings/profile</a> and add your real name and affiliation</p></li>
<li><p>Go to <a class="reference external" href="https://github.com/settings/emails">https://github.com/settings/emails</a> and add &amp; verify the professional e-mails you want to be associated with.</p></li>
<li><p>Configure <code class="docutils literal notranslate"><span class="pre">git</span></code> on the machine you develop on to <em>use the same spelling of your name and email</em>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">user.name</span> <span class="pre">&quot;FIRSTNAME</span> <span class="pre">LASTNAME&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span> <span class="pre">--global</span> <span class="pre">user.email</span> <span class="pre">EMAIL&#64;EXAMPLE.com</span></code></p></li>
</ul>
</li>
<li><p>Go to <a class="reference external" href="https://github.com/settings/keys">https://github.com/settings/keys</a> and add the SSH public key of the machine you develop on. (Check out the GitHub guide to <a class="reference external" href="https://docs.github.com/articles/generating-an-ssh-key/">generating SSH keys</a> or <a class="reference external" href="https://docs.github.com/ssh-issues/">troubleshoot common SSH problems</a>. )</p></li>
</ol>
</section>
<section id="make-your-own-fork">
<h3>Make your own fork<a class="headerlink" href="#make-your-own-fork" title="Link to this heading"></a></h3>
<p>First, fork the WarpX <a class="reference external" href="https://github.com/ECP-WarpX/WarpX">“mainline” repo on GitHub</a> by pressing the <em>Fork</em> button on the top right of the page.
A fork is a copy of WarpX on GitHub, which is under your full control.</p>
<p>Then, we create local copies, for development:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="c1"># Clone the mainline WarpX source code to your local computer.</span>
<span class="c1"># You cannot write to this repository, but you can read from it.</span>
git<span class="w"> </span>clone<span class="w"> </span>git@github.com:ECP-WarpX/WarpX.git
<span class="nb">cd</span><span class="w"> </span>WarpX

<span class="c1"># rename what we just cloned: call it &quot;mainline&quot;</span>
git<span class="w"> </span>remote<span class="w"> </span>rename<span class="w"> </span>origin<span class="w"> </span>mainline

<span class="c1"># Add your own fork. You can get this address on your fork&#39;s Github page.</span>
<span class="c1"># Here is where you will publish new developments, so that they can be</span>
<span class="c1"># reviewed and integrated into &quot;mainline&quot; later on.</span>
<span class="c1"># &quot;myGithubUsername&quot; needs to be replaced with your user name on GitHub.</span>
git<span class="w"> </span>remote<span class="w"> </span>add<span class="w"> </span>myGithubUsername<span class="w"> </span>git@github.com:myGithubUsername/WarpX.git
</pre></div>
</div>
<p>Now you are free to play with your fork (for additional information, you can visit the
<a class="reference external" href="https://help.github.com/en/articles/fork-a-repo">Github fork help page</a>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We only need to do the above steps for the first time.</p>
</div>
</section>
<section id="let-s-develop">
<h3>Let’s Develop<a class="headerlink" href="#let-s-develop" title="Link to this heading"></a></h3>
<p>You are all set!
Now, the basic WarpX development workflow is:</p>
<ol class="arabic simple">
<li><p>Implement your changes and push them on a new branch <code class="docutils literal notranslate"><span class="pre">branch_name</span></code> on your fork.</p></li>
<li><p>Create a Pull Request from branch <code class="docutils literal notranslate"><span class="pre">branch_name</span></code> on your fork to branch <code class="docutils literal notranslate"><span class="pre">development</span></code> on the main WarpX repo.</p></li>
</ol>
<p>Create a branch <code class="docutils literal notranslate"><span class="pre">branch_name</span></code> (the branch name should reflect the piece of code you want to add, like <code class="docutils literal notranslate"><span class="pre">fix-spectral-solver</span></code>) with</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="c1"># start from an up-to-date development branch</span>
git<span class="w"> </span>checkout<span class="w"> </span>development
git<span class="w"> </span>pull<span class="w"> </span>mainline<span class="w"> </span>development

<span class="c1"># create a fresh branch</span>
git<span class="w"> </span>checkout<span class="w"> </span>-b<span class="w"> </span>branch_name
</pre></div>
</div>
<p>and do the coding you want.</p>
<p>It is probably a good time to look at the <a class="reference external" href="https://amrex-codes.github.io/amrex/docs_html/">AMReX documentation</a> and at the Doxygen reference pages:</p>
<ul class="simple">
<li><p>WarpX Doxygen: <a class="reference external" href="https://warpx.readthedocs.io/en/latest/_static/doxyhtml">https://warpx.readthedocs.io/en/latest/_static/doxyhtml</a></p></li>
<li><p>AMReX Doxygen: <a class="reference external" href="https://amrex-codes.github.io/amrex/doxygen">https://amrex-codes.github.io/amrex/doxygen</a></p></li>
<li><p>PICSAR Doxygen: (todo)</p></li>
</ul>
<p>Once you are done developing, add the files you created and/or modified to the <code class="docutils literal notranslate"><span class="pre">git</span></code> <em>staging area</em> with</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>add<span class="w"> </span>&lt;file_I_created&gt;<span class="w"> </span>&lt;and_file_I_modified&gt;
</pre></div>
</div>
</section>
<section id="build-your-changes">
<h3>Build your changes<a class="headerlink" href="#build-your-changes" title="Link to this heading"></a></h3>
<p>If you changed C++ files, then now is a good time to test those changes by compiling WarpX locally.
Follow the <a class="reference external" href="https://warpx.readthedocs.io/en/latest/install/cmake.html">developer instructions in our manual</a> to set up a local development environment, then compile and <a class="reference external" href="https://warpx.readthedocs.io/en/latest/usage/how_to_run.html">run</a> WarpX.</p>
</section>
<section id="commit-push-your-changes">
<h3>Commit &amp; push your changes<a class="headerlink" href="#commit-push-your-changes" title="Link to this heading"></a></h3>
<p>Periodically commit your changes with</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>commit
</pre></div>
</div>
<p>The commit message is super important in order to follow the developments during code-review and identify bugs.
A typical format is:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>This is a short, 40-character title

After a newline, you can write arbitray paragraphs. You
usually limit the lines to 70 characters, but if you don&#39;t, then
nothing bad will happen.

The most important part is really that you find a descriptive title
and add an empty newline after it.
</pre></div>
</div>
<p>For the moment, commits are on your local repo only.
You can push them to your fork with</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>push<span class="w"> </span>-u<span class="w"> </span>myGithubUsername<span class="w"> </span>branch_name
</pre></div>
</div>
<p>If you want to synchronize your branch with the <code class="docutils literal notranslate"><span class="pre">development</span></code> branch (this is useful when the <code class="docutils literal notranslate"><span class="pre">development</span></code> branch is being modified while you are working on <code class="docutils literal notranslate"><span class="pre">branch_name</span></code>), you can use</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>pull<span class="w"> </span>mainline<span class="w"> </span>development
</pre></div>
</div>
<p>and fix any conflict that may occur.</p>
</section>
<section id="submit-a-pull-request">
<h3>Submit a Pull Request<a class="headerlink" href="#submit-a-pull-request" title="Link to this heading"></a></h3>
<p>A Pull Request (PR) is the way to efficiently visualize the changes you made and to propose your new feature/improvement/fix to the WarpX project.
Right after you push changes, a banner should appear on the Github page of your fork, with your <code class="docutils literal notranslate"><span class="pre">&lt;branch_name&gt;</span></code>.</p>
<ul class="simple">
<li><p>Click on the <code class="docutils literal notranslate"><span class="pre">compare</span> <span class="pre">&amp;</span> <span class="pre">pull</span> <span class="pre">request</span></code> button to prepare your PR.</p></li>
<li><p>It is time to communicate your changes: write a title and a description for your PR.
People who review your PR are happy to know</p>
<ul>
<li><p>what feature/fix you propose, and why</p></li>
<li><p>how you made it (added new/edited files, created a new class than inherits from…)</p></li>
<li><p>how you tested it and what was the output you got</p></li>
<li><p>and anything else relevant to your PR (attach images and scripts, link papers, <em>etc.</em>)</p></li>
</ul>
</li>
<li><p>Press <code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">pull</span> <span class="pre">request</span></code>.
Now you can navigate through your PR, which highlights the changes you made.</p></li>
</ul>
<p>Please DO NOT write large pull requests, as they are very difficult and time-consuming to review.
As much as possible, split them into small, targeted PRs.
For example, if find typos in the documentation open a pull request that only fixes typos.
If you want to fix a bug, make a small pull request that only fixes a bug.</p>
<p>If you want to implement a feature and are not too sure how to split it, just open an issue about your plans and ping other WarpX developers on it to chime in.
Generally, write helper functionality first, test it and then write implementation code.
Submit tests, documentation changes and implementation of a feature together for pull request review.</p>
<p>Even before your work is ready to merge, it can be convenient to create a PR (so you can use Github tools to visualize your changes).
In this case, please put the <code class="docutils literal notranslate"><span class="pre">[WIP]</span></code> tag (for Work-In-Progress) at the beginning of the PR title.
You can also use the GitHub project tab in your fork to organize the work into separate tasks/PRs and share it with the WarpX community to get feedback.</p>
<section id="include-a-test-to-your-pr">
<h4>Include a test to your PR<a class="headerlink" href="#include-a-test-to-your-pr" title="Link to this heading"></a></h4>
<p>A new feature is great, a <strong>working</strong> new feature is even better!
Please test your code and add your test to the automated test suite.
It’s the way to protect your work from adventurous developers.
Instructions are given in the <a class="reference internal" href="testing.html#developers-testing"><span class="std std-ref">testing section</span></a> of our <a class="reference external" href="https://warpx.readthedocs.io/en/latest/developers/testing.html">developer’s documentation</a>.</p>
</section>
<section id="include-documentation-about-your-pr">
<h4>Include documentation about your PR<a class="headerlink" href="#include-documentation-about-your-pr" title="Link to this heading"></a></h4>
<p>Now, let users know about your new feature by describing its usage in the <a class="reference external" href="https://warpx.readthedocs.io">WarpX documentation</a>.
Our documentation uses <a class="reference external" href="http://www.sphinx-doc.org/en/master/usage/quickstart.html">Sphinx</a>, and it is located in <code class="docutils literal notranslate"><span class="pre">Docs/source/</span></code>.
For instance, if you introduce a new runtime parameter in the input file, you can add it to <a class="reference internal" href="../usage/parameters.html#running-cpp-parameters"><span class="std std-ref">Docs/source/running_cpp/parameters.rst</span></a>.
If Sphinx is installed on your computer, you should be able to generate the html documentation with</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>html
</pre></div>
</div>
<p>in <code class="docutils literal notranslate"><span class="pre">Docs/</span></code>. Then open <code class="docutils literal notranslate"><span class="pre">Docs/build/html/index.html</span></code> with your favorite web browser and look
for your changes.</p>
<p>Once your code is ready with documentation and automated test, congratulations!
You can create the PR (or remove the <code class="docutils literal notranslate"><span class="pre">[WIP]</span></code> tag if you already created it).
Reviewers will interact with you if they have comments/questions.</p>
</section>
</section>
</section>
<section id="style-and-conventions">
<span id="developers-contributing-style-conventions"></span><h2>Style and conventions<a class="headerlink" href="#style-and-conventions" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>For indentation, WarpX uses four spaces (no tabs)</p></li>
<li><p>Some text editors automatically modify the files you open. We recommend to turn on to remove trailing spaces and replace Tabs with 4 spaces.</p></li>
<li><p>The number of characters per line should be &lt;100</p></li>
<li><p>Exception: in documentation files (<code class="docutils literal notranslate"><span class="pre">.rst</span></code>/<code class="docutils literal notranslate"><span class="pre">.md</span></code>) use one sentence per line independent of its number of characters, which will allow easier edits.</p></li>
<li><p>Space before and after assignment operator (<code class="docutils literal notranslate"><span class="pre">=</span></code>)</p></li>
<li><p>To define a function , for e.g., <code class="docutils literal notranslate"><span class="pre">myfunction()</span></code> use a space between the name of the function and the paranthesis - <code class="docutils literal notranslate"><span class="pre">myfunction</span> <span class="pre">()</span></code>.
To call the function, the space is not required, i.e., just use <code class="docutils literal notranslate"><span class="pre">myfunction()</span></code>.</p></li>
<li><p>The reason this is beneficial is that when we do a <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">grep</span></code> to search for <code class="docutils literal notranslate"><span class="pre">myfunction</span> <span class="pre">()</span></code>, we can clearly see the locations where <code class="docutils literal notranslate"><span class="pre">myfunction</span> <span class="pre">()</span></code> is defined and where <code class="docutils literal notranslate"><span class="pre">myfunction()</span></code> is called.</p></li>
<li><p>Also, using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">grep</span> <span class="pre">&quot;myfunction</span> <span class="pre">()&quot;</span></code> searches for files only in the git repo, which is more efficient compared to the <code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">&quot;myfunction</span> <span class="pre">()&quot;</span></code> command that searches through all the files in a directory, including plotfiles for example.</p></li>
<li><p>It is recommended that style changes are not included in the PR where new code is added.
This is to avoid any errors that may be introduced in a PR just to do style change.</p></li>
<li><p>WarpX uses <code class="docutils literal notranslate"><span class="pre">CamelCase</span></code> convention for file names and class names, rather than <code class="docutils literal notranslate"><span class="pre">snake_case</span></code>.</p></li>
<li><p>The names of all member variables should be prefixed with <code class="docutils literal notranslate"><span class="pre">m_</span></code>.
This is particularly useful to avoid capturing member variables by value in a lambda function, which causes the whole object to be copied to GPU when running on a GPU-accelerated architecture.
This convention should be used for all new piece of code, and it should be applied progressively to old code.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">#include</span></code> directives in C++ have a distinct order to avoid bugs, see <a class="reference internal" href="repo_organization.html#developers-repo-structure"><span class="std std-ref">the WarpX repo structure</span></a> for details</p></li>
<li><p>For all new code, we should avoid relying on <code class="docutils literal notranslate"><span class="pre">using</span> <span class="pre">namespace</span> <span class="pre">amrex;</span></code> and all amrex types should be prefixed with <cite>amrex::</cite>.
Inside limited scopes, AMReX type literals can be included with <code class="docutils literal notranslate"><span class="pre">using</span> <span class="pre">namespace</span> <span class="pre">amrex::literals;</span></code>.
Ideally, old code should be modified accordingly.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-2024, MicroEleX collaboration.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>