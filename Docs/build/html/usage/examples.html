<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Examples &mdash; MicroEleX 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=f2a433a1"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/design-tabs.js?v=36754332"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            MicroEleX
          </a>
              <div class="version">
                1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">INSTALLATION</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install/artemis.html">ARTEMIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/eleqtroneX.html">ELEQTRONeX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/ferrox.html">FerroX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/magnex.html">MagneX</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">USAGE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="run_artemis.html">Run ARTEMIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="run_eleqtronex.html">Run ELEQTRONeX</a></li>
<li class="toctree-l1"><a class="reference internal" href="run_ferrox.html">Run FerroX</a></li>
<li class="toctree-l1"><a class="reference internal" href="run_magnex.html">Run MagneX</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">DATA ANALYSIS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dataanalysis/formats.html">Output Formats and Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataanalysis/yt.html">yt-project</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">EPILOGUE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgements.html">Funding and Acknowledgements</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MicroEleX</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Examples</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/usage/examples.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="examples">
<span id="usage-examples"></span><h1>Examples<a class="headerlink" href="#examples" title="Link to this heading"></a></h1>
<p>This section allows you to <strong>download input files</strong> that correspond to different physical situations.</p>
<p>We provide two kinds of inputs:</p>
<ul class="simple">
<li><p>AMReX <code class="docutils literal notranslate"><span class="pre">inputs</span></code> files, <a class="reference internal" href="parameters.html#running-cpp-parameters"><span class="std std-ref">with parameters described here</span></a>,</p></li>
<li><p>PICMI python input files, <a class="reference external" href="https://picmi-standard.github.io">with parameters described here</a>.</p></li>
</ul>
<p>For a complete list of all example input files, have a look at our <code class="docutils literal notranslate"><span class="pre">Examples/</span></code> directory.
It contains folders and subfolders with self-describing names that you can try. All these input files are automatically tested, so they should always be up-to-date.</p>
<section id="beam-driven-electron-acceleration">
<h2>Beam-driven electron acceleration<a class="headerlink" href="#beam-driven-electron-acceleration" title="Link to this heading"></a></h2>
<p>AMReX <code class="docutils literal notranslate"><span class="pre">inputs</span></code>:</p>
<ul class="simple">
<li><p><code class="xref download docutils literal notranslate"><span class="pre">2D</span> <span class="pre">case</span></code></p></li>
<li><p><code class="xref download docutils literal notranslate"><span class="pre">2D</span> <span class="pre">case</span> <span class="pre">in</span> <span class="pre">boosted</span> <span class="pre">frame</span></code></p></li>
<li><p><code class="xref download docutils literal notranslate"><span class="pre">3D</span> <span class="pre">case</span> <span class="pre">in</span> <span class="pre">boosted</span> <span class="pre">frame</span></code></p></li>
</ul>
<p>PICMI:</p>
<ul class="simple">
<li><p><code class="xref download docutils literal notranslate"><span class="pre">Without</span> <span class="pre">mesh</span> <span class="pre">refinement</span></code></p></li>
<li><p><code class="xref download docutils literal notranslate"><span class="pre">With</span> <span class="pre">mesh</span> <span class="pre">refinement</span></code></p></li>
</ul>
</section>
<section id="laser-driven-electron-acceleration">
<h2>Laser-driven electron acceleration<a class="headerlink" href="#laser-driven-electron-acceleration" title="Link to this heading"></a></h2>
<p>AMReX <code class="docutils literal notranslate"><span class="pre">inputs</span></code>:</p>
<ul class="simple">
<li><p><code class="xref download docutils literal notranslate"><span class="pre">1D</span> <span class="pre">case</span></code></p></li>
<li><p><code class="xref download docutils literal notranslate"><span class="pre">2D</span> <span class="pre">case</span></code></p></li>
<li><p><code class="xref download docutils literal notranslate"><span class="pre">2D</span> <span class="pre">case</span> <span class="pre">in</span> <span class="pre">boosted</span> <span class="pre">frame</span></code></p></li>
<li><p><code class="xref download docutils literal notranslate"><span class="pre">3D</span> <span class="pre">case</span></code></p></li>
<li><p><code class="xref download docutils literal notranslate"><span class="pre">RZ</span> <span class="pre">case</span></code></p></li>
</ul>
<p>PICMI (Python) scripts:</p>
<ul class="simple">
<li><p><code class="xref download docutils literal notranslate"><span class="pre">1D</span> <span class="pre">case</span></code></p></li>
<li><p><code class="xref download docutils literal notranslate"><span class="pre">2D</span> <span class="pre">case</span> <span class="pre">with</span> <span class="pre">mesh</span> <span class="pre">refinement</span></code></p></li>
<li><p><code class="xref download docutils literal notranslate"><span class="pre">3D</span> <span class="pre">case</span></code></p></li>
<li><p><code class="xref download docutils literal notranslate"><span class="pre">RZ</span> <span class="pre">case</span></code></p></li>
</ul>
</section>
<section id="plasma-mirror">
<h2>Plasma mirror<a class="headerlink" href="#plasma-mirror" title="Link to this heading"></a></h2>
<p><code class="xref download docutils literal notranslate"><span class="pre">2D</span> <span class="pre">case</span></code></p>
</section>
<section id="laser-ion-acceleration">
<h2>Laser-ion acceleration<a class="headerlink" href="#laser-ion-acceleration" title="Link to this heading"></a></h2>
<p><code class="xref download docutils literal notranslate"><span class="pre">2D</span> <span class="pre">case</span></code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The resolution of this 2D case is extremely low by default.
You will need a computing cluster for adequate resolution of the target density, see comments in the input file.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>It is strongly advised to set the parameters <code class="docutils literal notranslate"><span class="pre">&lt;species&gt;.zmin</span> <span class="pre">/</span> <span class="pre">zmax</span> <span class="pre">/</span> <span class="pre">xmin</span> <span class="pre">/</span> <span class="pre">...</span></code> when working with highly dense targets that are limited in one or multiple dimensions.
The particle creation routine will first create particles everywhere between these limits (<cite>defaulting to box size if unset</cite>), setting particles to invalid only afterwards based on the density profile.
Not setting these parameters can quickly lead to memory overflows.</p>
</div>
</section>
<section id="uniform-plasma">
<h2>Uniform plasma<a class="headerlink" href="#uniform-plasma" title="Link to this heading"></a></h2>
<p><code class="xref download docutils literal notranslate"><span class="pre">2D</span> <span class="pre">case</span></code>
<code class="xref download docutils literal notranslate"><span class="pre">3D</span> <span class="pre">case</span></code></p>
</section>
<section id="capacitive-discharge">
<h2>Capacitive discharge<a class="headerlink" href="#capacitive-discharge" title="Link to this heading"></a></h2>
<p>The Monte-Carlo collision (MCC) model can be used to simulate electron and ion collisions with a neutral background gas. In particular this can be used to study capacitive discharges between parallel plates. The implementation has been tested against the benchmark results from Turner et al. in <a class="reference external" href="https://aip.scitation.org/doi/abs/10.1063/1.4775084">Phys. Plasmas 20, 013507, 2013</a>. The figure below shows a comparison of the ion density as calculated in WarpX (in June 2022 with <a class="reference external" href="https://github.com/ECP-WarpX/WarpX/pull/3118">PR #3118</a>) compared to the literature results (which can be found <a class="reference external" href="https://aip.scitation.org/doi/suppl/10.1063/1.4775084">here</a>).</p>
<figure class="align-default">
<a class="reference internal image-reference" href="https://user-images.githubusercontent.com/40245517/171573007-f7d733c7-c0de-490c-9ed6-ff4c02154358.png"><img alt="MCC benchmark against Turner et. al. (2013)." src="https://user-images.githubusercontent.com/40245517/171573007-f7d733c7-c0de-490c-9ed6-ff4c02154358.png" style="width: 80%;" /></a>
</figure>
<p>An input file to reproduce the benchmark calculations is linked below.
To run a given case <code class="docutils literal notranslate"><span class="pre">-n</span></code>, from 1 to 4, execute:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>PICMI_inputs_1d.py<span class="w"> </span>-n<span class="w"> </span><span class="m">1</span>
</pre></div>
</div>
</div></blockquote>
<p>Once the simulation completes an output file <code class="docutils literal notranslate"><span class="pre">avg_ion_density.npy</span></code> will be created which can be compared to the literature results as in the plot above. Running case 1 on 4 processors takes roughly 20 minutes to complete.</p>
<ul class="simple">
<li><p><code class="xref download docutils literal notranslate"><span class="pre">input</span> <span class="pre">file</span></code></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This example needs <a class="reference external" href="https://github.com/ECP-WarpX/warpx-data">additional calibration data for cross sections</a>.
Download this data alongside your inputs file and update the paths in the inputs file:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/ECP-WarpX/warpx-data.git
</pre></div>
</div>
</div>
</section>
<section id="test-cases">
<h2>Test cases<a class="headerlink" href="#test-cases" title="Link to this heading"></a></h2>
<p>PICMI (Python) test cases included that can be used as a reference:</p>
<ul class="simple">
<li><p><code class="xref download docutils literal notranslate"><span class="pre">Gaussian</span> <span class="pre">beam</span></code></p></li>
<li><p><code class="xref download docutils literal notranslate"><span class="pre">Langmuir</span> <span class="pre">plasma</span> <span class="pre">wave</span> <span class="pre">test</span> <span class="pre">in</span> <span class="pre">3d</span></code></p></li>
<li><p><code class="xref download docutils literal notranslate"><span class="pre">Langmuir</span> <span class="pre">plasma</span> <span class="pre">wave</span> <span class="pre">test</span> <span class="pre">in</span> <span class="pre">RZ</span></code></p></li>
<li><p><code class="xref download docutils literal notranslate"><span class="pre">Langmuir</span> <span class="pre">plasma</span> <span class="pre">wave</span> <span class="pre">test</span> <span class="pre">in</span> <span class="pre">2D</span></code></p></li>
</ul>
</section>
<section id="manipulating-fields-via-python">
<h2>Manipulating fields via Python<a class="headerlink" href="#manipulating-fields-via-python" title="Link to this heading"></a></h2>
<p>An example of using Python to access the simulation charge density, solve the Poisson equation (using <code class="docutils literal notranslate"><span class="pre">superLU</span></code>) and write the resulting electrostatic potential back to the simulation is given in the input file below. This example uses the <code class="docutils literal notranslate"><span class="pre">fields.py</span></code> module included in the <code class="docutils literal notranslate"><span class="pre">pywarpx</span></code> library.</p>
<ul class="simple">
<li><p><code class="xref download docutils literal notranslate"><span class="pre">Direct</span> <span class="pre">Poisson</span> <span class="pre">solver</span> <span class="pre">example</span></code></p></li>
</ul>
<p>An example of initializing the fields by accessing their data through Python, advancing the simulation for a chosen number of time steps, and plotting the fields again through Python. The simulation runs with 128 regular cells, 8 guard cells, and 10 PML cells, in each direction. Moreover, it uses div(E) and div(B) cleaning both in the regular grid and in the PML and initializes all available electromagnetic fields (E,B,F,G) identically.</p>
<ul class="simple">
<li><p><code class="xref download docutils literal notranslate"><span class="pre">Unit</span> <span class="pre">pulse</span> <span class="pre">with</span> <span class="pre">PML</span></code></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-2024, MicroEleX collaboration.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>