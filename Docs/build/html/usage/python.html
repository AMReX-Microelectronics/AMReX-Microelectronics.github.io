<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Python (PICMI) &mdash; MicroEleX 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=f2a433a1"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/design-tabs.js?v=36754332"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Examples" href="examples.html" />
    <link rel="prev" title="Input Parameters" href="parameters.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            MicroEleX
          </a>
              <div class="version">
                1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">INSTALLATION</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install/users.html">Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/cmake.html">Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/hpc.html">HPC</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">USAGE</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="how_to_run.html">Run WarpX</a></li>
<li class="toctree-l1"><a class="reference internal" href="domain_decomposition.html">Domain Decomposition</a></li>
<li class="toctree-l1"><a class="reference internal" href="parameters.html">Input Parameters</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Python (PICMI)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#classes">Classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#simulation-and-grid-setup">Simulation and grid setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#simulation">Simulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#constants">Constants</a></li>
<li class="toctree-l4"><a class="reference internal" href="#electromagneticsolver">ElectromagneticSolver</a></li>
<li class="toctree-l4"><a class="reference internal" href="#electrostaticsolver">ElectrostaticSolver</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cartesian3dgrid">Cartesian3DGrid</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cartesian2dgrid">Cartesian2DGrid</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cartesian1dgrid">Cartesian1DGrid</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cylindricalgrid">CylindricalGrid</a></li>
<li class="toctree-l4"><a class="reference internal" href="#embeddedboundary">EmbeddedBoundary</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#applied-fields">Applied fields</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#constantappliedfield">ConstantAppliedField</a></li>
<li class="toctree-l4"><a class="reference internal" href="#analyticappliedfield">AnalyticAppliedField</a></li>
<li class="toctree-l4"><a class="reference internal" href="#plasmalens">PlasmaLens</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mirror">Mirror</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#diagnostics">Diagnostics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#particlediagnostic">ParticleDiagnostic</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fielddiagnostic">FieldDiagnostic</a></li>
<li class="toctree-l4"><a class="reference internal" href="#electrostaticfielddiagnostic">ElectrostaticFieldDiagnostic</a></li>
<li class="toctree-l4"><a class="reference internal" href="#labframefielddiagnostic">LabFrameFieldDiagnostic</a></li>
<li class="toctree-l4"><a class="reference internal" href="#checkpoint">Checkpoint</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#particles">Particles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#species">Species</a></li>
<li class="toctree-l4"><a class="reference internal" href="#multispecies">MultiSpecies</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gaussianbunchdistribution">GaussianBunchDistribution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#uniformdistribution">UniformDistribution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#analyticdistribution">AnalyticDistribution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#particlelistdistribution">ParticleListDistribution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#griddedlayout">GriddedLayout</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pseudorandomlayout">PseudoRandomLayout</a></li>
<li class="toctree-l4"><a class="reference internal" href="#coulombcollisions">CoulombCollisions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mcccollisions">MCCCollisions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#lasers">Lasers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#gaussianlaser">GaussianLaser</a></li>
<li class="toctree-l4"><a class="reference internal" href="#analyticlaser">AnalyticLaser</a></li>
<li class="toctree-l4"><a class="reference internal" href="#laserantenna">LaserAntenna</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#running">Running</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#running-warpx-directly-from-python">Running WarpX directly from Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extending-a-simulation-from-python">Extending a Simulation from Python</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.callbacks.CallbackFunctions"><code class="docutils literal notranslate"><span class="pre">CallbackFunctions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.picmi.Simulation.extension.getNProcs"><code class="docutils literal notranslate"><span class="pre">getNProcs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.picmi.Simulation.extension.getMyProc"><code class="docutils literal notranslate"><span class="pre">getMyProc()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.picmi.Simulation.extension.get_nattr"><code class="docutils literal notranslate"><span class="pre">get_nattr()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.picmi.Simulation.extension.get_nattr_species"><code class="docutils literal notranslate"><span class="pre">get_nattr_species()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.picmi.Simulation.extension.getistep"><code class="docutils literal notranslate"><span class="pre">getistep()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.picmi.Simulation.extension.gett_new"><code class="docutils literal notranslate"><span class="pre">gett_new()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.picmi.Simulation.extension.evolve"><code class="docutils literal notranslate"><span class="pre">evolve()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.picmi.Simulation.extension.finalize"><code class="docutils literal notranslate"><span class="pre">finalize()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.picmi.Simulation.extension.getProbLo"><code class="docutils literal notranslate"><span class="pre">getProbLo()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.picmi.Simulation.extension.getProbHi"><code class="docutils literal notranslate"><span class="pre">getProbHi()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.picmi.Simulation.extension.getCellSize"><code class="docutils literal notranslate"><span class="pre">getCellSize()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.picmi.Simulation.extension.add_particles"><code class="docutils literal notranslate"><span class="pre">add_particles()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.picmi.Simulation.extension.get_particle_count"><code class="docutils literal notranslate"><span class="pre">get_particle_count()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.picmi.Simulation.extension.get_particle_structs"><code class="docutils literal notranslate"><span class="pre">get_particle_structs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.picmi.Simulation.extension.get_particle_arrays"><code class="docutils literal notranslate"><span class="pre">get_particle_arrays()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.picmi.Simulation.extension.get_particle_comp_index"><code class="docutils literal notranslate"><span class="pre">get_particle_comp_index()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.picmi.Simulation.extension.add_real_comp"><code class="docutils literal notranslate"><span class="pre">add_real_comp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.picmi.Simulation.extension.get_species_charge_sum"><code class="docutils literal notranslate"><span class="pre">get_species_charge_sum()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.picmi.Simulation.extension.depositChargeDensity"><code class="docutils literal notranslate"><span class="pre">depositChargeDensity()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.picmi.Simulation.extension.get_particle_boundary_buffer_size"><code class="docutils literal notranslate"><span class="pre">get_particle_boundary_buffer_size()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.picmi.Simulation.extension.get_particle_boundary_buffer_structs"><code class="docutils literal notranslate"><span class="pre">get_particle_boundary_buffer_structs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.picmi.Simulation.extension.get_particle_boundary_buffer"><code class="docutils literal notranslate"><span class="pre">get_particle_boundary_buffer()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.picmi.Simulation.extension.clearParticleBoundaryBuffer"><code class="docutils literal notranslate"><span class="pre">clearParticleBoundaryBuffer()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pywarpx.picmi.Simulation.extension.set_potential_EB"><code class="docutils literal notranslate"><span class="pre">set_potential_EB()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#using-python-input-as-a-preprocessor">Using Python input as a preprocessor</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">DATA ANALYSIS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dataanalysis/formats.html">Output formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataanalysis/yt.html">yt-project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataanalysis/openpmdviewer.html">openPMD-viewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataanalysis/openpmdapi.html">openPMD-api</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataanalysis/paraview.html">3D Visualization: ParaView</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataanalysis/visit.html">3D Visualization: VisIt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataanalysis/visualpic.html">VisualPIC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataanalysis/picviewer.html">PICViewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataanalysis/reduced_diags.html">Reduced diagnostics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataanalysis/workflows.html">Workflows</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">EPILOGUE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgements.html">Funding and Acknowledgements</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MicroEleX</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Python (PICMI)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/usage/python.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="python-picmi">
<span id="usage-picmi"></span><h1>Python (PICMI)<a class="headerlink" href="#python-picmi" title="Link to this heading"></a></h1>
<p>WarpX uses the <a class="reference external" href="https://github.com/picmi-standard/picmi">PICMI standard</a> for its Python input files.
Python version 3.7 or newer is required.</p>
<p>Example input files can be found in <a class="reference internal" href="examples.html#usage-examples"><span class="std std-ref">the examples section</span></a>.
In the input file, instances of classes are created defining the various aspects of the simulation.
The <cite>Simulation</cite> object is the central object, where the instances are passed,
defining the simulation time, field solver, registered species, etc.</p>
<section id="classes">
<span id="usage-picmi-parameters"></span><h2>Classes<a class="headerlink" href="#classes" title="Link to this heading"></a></h2>
<section id="simulation-and-grid-setup">
<h3>Simulation and grid setup<a class="headerlink" href="#simulation-and-grid-setup" title="Link to this heading"></a></h3>
<section id="simulation">
<h4>Simulation<a class="headerlink" href="#simulation" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">Simulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_step_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">particle_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma_boost</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cpu_split</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_balancing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#Simulation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.Simulation" title="Link to this definition"></a></dt>
<dd><p>Creates a Simulation object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>solver</strong> (<em>field solver instance</em>) – This is the field solver to be used in the simulation.
It should be an instance of field solver classes.</p></li>
<li><p><strong>time_step_size</strong> (<em>float</em>) – Absolute time step size of the simulation [s].
Needed if the CFL is not specified elsewhere.</p></li>
<li><p><strong>max_steps</strong> (<em>integer</em>) – Maximum number of time steps.
Specify either this, or <cite>max_time</cite>, or use the <cite>step</cite> function directly.</p></li>
<li><p><strong>max_time</strong> (<em>float</em>) – Maximum physical time to run the simulation [s].
Specify either this, or <cite>max_steps</cite>, or use the <cite>step</cite> function directly.</p></li>
<li><p><strong>verbose</strong> (<em>integer</em><em>, </em><em>optional</em>) – Verbosity flag. A larger integer results in more verbose output</p></li>
<li><p><strong>particle_shape</strong> (<em>{'NGP'</em><em>, </em><em>'linear'</em><em>, </em><em>'quadratic'</em><em>, </em><em>'cubic'}</em>) – Default particle shape for species added to this simulation</p></li>
<li><p><strong>gamma_boost</strong> (<em>float</em><em>, </em><em>optional</em>) – Lorentz factor of the boosted simulation frame.
Note that all input values should be in the lab frame.</p></li>
</ul>
</dd>
</dl>
<p>Implementation specific documentation</p>
<p>See <a class="reference external" href="https://warpx.readthedocs.io/en/latest/usage/parameters.html">Input Parameters</a> for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>warpx_current_deposition_algo</strong> (<em>{'direct'</em><em>, </em><em>'esirkepov'</em><em>, </em><em>and 'vay'}</em><em>, </em><em>optional</em>) – Current deposition algorithm. The default depends on conditions.</p></li>
<li><p><strong>warpx_charge_deposition_algo</strong> (<em>{'standard'}</em><em>, </em><em>optional</em>) – Charge deposition algorithm.</p></li>
<li><p><strong>warpx_field_gathering_algo</strong> (<em>{'energy-conserving'</em><em>, </em><em>'momentum-conserving'}</em><em>, </em><em>optional</em>) – Field gathering algorithm. The default depends on conditions.</p></li>
<li><p><strong>warpx_particle_pusher_algo</strong> (<em>{'boris'</em><em>, </em><em>'vay'</em><em>, </em><em>'higuera'}</em><em>, </em><em>default='boris'</em>) – Particle pushing algorithm.</p></li>
<li><p><strong>warpx_use_filter</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to use filtering. The default depends on the conditions.</p></li>
<li><p><strong>warpx_do_multi_J</strong> (<em>bool</em><em>, </em><em>default=0</em>) – Whether to use the multi-J algorithm, where current deposition and
field update are performed multiple times within each time step.</p></li>
<li><p><strong>warpx_do_multi_J_n_depositions</strong> (<em>integer</em>) – Number of sub-steps to use with the multi-J algorithm, when <code class="docutils literal notranslate"><span class="pre">warpx_do_multi_J=1</span></code>.
Note that this input parameter is not optional and must always be set in all
input files where <code class="docutils literal notranslate"><span class="pre">warpx.do_multi_J=1</span></code>. No default value is provided automatically.</p></li>
<li><p><strong>warpx_grid_type</strong> (<em>{'collocated'</em><em>, </em><em>'staggered'</em><em>, </em><em>'hybrid'}</em><em>, </em><em>default='staggered'</em>) – Whether to use a collocated grid (all fields defined at the cell nodes),
a staggered grid (fields defined on a Yee grid), or a hybrid grid
(fields and currents are interpolated back and forth between a staggered grid
and a collocated grid, must be used with momentum-conserving field gathering algorithm).</p></li>
<li><p><strong>warpx_do_current_centering</strong> (<em>bool</em><em>, </em><em>optional</em>) – If true, the current is deposited on a nodal grid and then centered
to a staggered grid (Yee grid), using finite-order interpolation.
Default: warpx.do_current_centering=0 with collocated or staggered grids,
warpx.do_current_centering=1 with hybrid grids.</p></li>
<li><p><strong>warpx_field_centering_nox/noy/noz</strong> (<em>integer</em><em>, </em><em>optional</em>) – The order of interpolation used with staggered or hybrid grids (<code class="docutils literal notranslate"><span class="pre">warpx_grid_type=staggered</span></code>
or <code class="docutils literal notranslate"><span class="pre">warpx_grid_type=hybrid</span></code>) and momentum-conserving field gathering
(<code class="docutils literal notranslate"><span class="pre">warpx_field_gathering_algo=momentum-conserving</span></code>) to interpolate the
electric and magnetic fields from the cell centers to the cell nodes,
before gathering the fields from the cell nodes to the particle positions.
Default: <code class="docutils literal notranslate"><span class="pre">warpx_field_centering_no&lt;x,y,z&gt;=2</span></code> with staggered grids,
<code class="docutils literal notranslate"><span class="pre">warpx_field_centering_no&lt;x,y,z&gt;=8</span></code> with hybrid grids (typically necessary
to ensure stability in boosted-frame simulations of relativistic plasmas and beams).</p></li>
<li><p><strong>warpx_current_centering_nox/noy/noz</strong> (<em>integer</em><em>, </em><em>optional</em>) – The order of interpolation used with hybrid grids (<code class="docutils literal notranslate"><span class="pre">warpx_grid_type=hybrid</span></code>)
to interpolate the currents from the cell nodes to the cell centers when
<code class="docutils literal notranslate"><span class="pre">warpx_do_current_centering=1</span></code>, before pushing the Maxwell fields on staggered grids.
Default: <code class="docutils literal notranslate"><span class="pre">warpx_current_centering_no&lt;x,y,z&gt;=8</span></code> with hybrid grids (typically necessary
to ensure stability in boosted-frame simulations of relativistic plasmas and beams).</p></li>
<li><p><strong>warpx_serialize_initial_conditions</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Controls the random numbers used for initialization.
This parameter should only be used for testing and continuous integration.</p></li>
<li><p><strong>warpx_random_seed</strong> (<em>string</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – (See documentation)</p></li>
<li><p><strong>warpx_do_dynamic_scheduling</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Whether to do dynamic scheduling with OpenMP</p></li>
<li><p><strong>warpx_load_balance_intervals</strong> (<em>string</em><em>, </em><em>default='0'</em>) – The intervals for doing load balancing</p></li>
<li><p><strong>warpx_load_balance_efficiency_ratio_threshold</strong> (<em>float</em><em>, </em><em>default=1.1</em>) – (See documentation)</p></li>
<li><p><strong>warpx_load_balance_with_sfc</strong> (<em>bool</em><em>, </em><em>default=0</em>) – (See documentation)</p></li>
<li><p><strong>warpx_load_balance_knapsack_factor</strong> (<em>float</em><em>, </em><em>default=1.24</em>) – (See documentation)</p></li>
<li><p><strong>warpx_load_balance_costs_update</strong> (<em>{'heuristic'</em><em> or </em><em>'timers'</em><em> or </em><em>'gpuclock'}</em><em>, </em><em>optional</em>) – (See documentation)</p></li>
<li><p><strong>warpx_costs_heuristic_particles_wt</strong> (<em>float</em><em>, </em><em>optional</em>) – (See documentation)</p></li>
<li><p><strong>warpx_costs_heuristic_cells_wt</strong> (<em>float</em><em>, </em><em>optional</em>) – (See documentation)</p></li>
<li><p><strong>warpx_use_fdtd_nci_corr</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to use the NCI correction when using the FDTD solver</p></li>
<li><p><strong>warpx_amr_check_input</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether AMReX should perform checks on the input
(primarily related to the max grid size and blocking factors)</p></li>
<li><p><strong>warpx_amr_restart</strong> (<em>string</em><em>, </em><em>optional</em>) – The name of the restart to use</p></li>
<li><p><strong>warpx_amrex_the_arena_is_managed</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to use managed memory in the AMReX Arena</p></li>
<li><p><strong>warpx_amrex_the_arena_init_size</strong> (<em>long int</em><em>, </em><em>optional</em>) – The amount of memory in bytes to allocate in the Arena.</p></li>
<li><p><strong>warpx_zmax_plasma_to_compute_max_step</strong> (<em>float</em><em>, </em><em>optional</em>) – Sets the simulation run time based on the maximum z value</p></li>
<li><p><strong>warpx_compute_max_step_from_btd</strong> (<em>bool</em><em>, </em><em>default=0</em>) – If specified, automatically calculates the number of iterations
required in the boosted frame for all back-transformed diagnostics
to be completed.</p></li>
<li><p><strong>warpx_collisions</strong> (<em>collision instance</em><em>, </em><em>optional</em>) – The collision instance specifying the particle collisions</p></li>
<li><p><strong>warpx_embedded_boundary</strong> (<em>embedded boundary instance</em><em>, </em><em>optional</em>)</p></li>
<li><p><strong>warpx_break_signals</strong> (<em>list</em><em> of </em><em>strings</em>) – Signals on which to break</p></li>
<li><p><strong>warpx_checkpoint_signals</strong> (<em>list</em><em> of </em><em>strings</em>) – Signals on which to write out a checkpoint</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.add_laser">
<span class="sig-name descname"><span class="pre">add_laser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">laser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">injection_method</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.add_laser" title="Link to this definition"></a></dt>
<dd><p>Add a laser pulses that to be injected in the simulation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>laser_profile</strong> (<em>laser instance</em>) – One of laser profile instances.
Specifies the <strong>physical</strong> properties of the laser pulse
(e.g. spatial and temporal profile, wavelength, amplitude, etc.).</p></li>
<li><p><strong>injection_method</strong> (<em>laser injection instance</em><em>, </em><em>optional</em>) – Specifies how the laser is injected (numerically) into the simulation
(e.g. through a laser antenna, or directly added to the mesh).
This argument describes an <strong>algorithm</strong>, not a physical object.
It is up to each code to define the default method
of injection, if the user does not provide injection_method.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.add_species">
<span class="sig-name descname"><span class="pre">add_species</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">species</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initialize_self_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.add_species" title="Link to this definition"></a></dt>
<dd><p>Add species to be used in the simulation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>species</strong> (<em>species instance</em>) – An instance of one of the PICMI species objects.
Defines species to be added from the <em>physical</em> point of view
(e.g. charge, mass, initial distribution of particles).</p></li>
<li><p><strong>layout</strong> (<em>layout instance</em>) – An instance of one of the PICMI particle layout objects.
Defines how particles are added into the simulation, from the <em>numerical</em> point of view.</p></li>
<li><p><strong>initialize_self_field</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether the initial space-charge fields of this species
is calculated and added to the simulation</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nsteps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mpi_comm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#Simulation.step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.Simulation.step" title="Link to this definition"></a></dt>
<dd><p>Run the simulation for <cite>nsteps</cite> timesteps</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>nsteps</strong> (<em>integer</em><em>, </em><em>default=1</em>) – The number of timesteps</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.write_input_file">
<span class="sig-name descname"><span class="pre">write_input_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'inputs'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#Simulation.write_input_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.Simulation.write_input_file" title="Link to this definition"></a></dt>
<dd><p>Write the parameters of the simulation, as defined in the PICMI input,
into a code-specific input file.</p>
<p>This can be used for codes that are not Python-driven (e.g. compiled,
pure C++ or Fortran codes) and expect a text input in a given format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_name</strong> (<em>string</em>) – The path to the file that will be created</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="constants">
<h4>Constants<a class="headerlink" href="#constants" title="Link to this heading"></a></h4>
<p>For convenience, the PICMI interface defines the following constants,
which can be used directly inside any PICMI script. The values are in SI units.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">picmi.constants.c</span></code>: The speed of light in vacuum.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">picmi.constants.ep0</span></code>: The vacuum permittivity <span class="math notranslate nohighlight">\(\epsilon_0\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">picmi.constants.mu0</span></code>: The vacuum permeability <span class="math notranslate nohighlight">\(\mu_0\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">picmi.constants.q_e</span></code>: The elementary charge (absolute value of the charge of an electron).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">picmi.constants.m_e</span></code>: The electron mass</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">picmi.constants.m_p</span></code>: The proton mass</p></li>
</ul>
<p>Field solvers define the updates of electric and magnetic fields.</p>
</section>
<section id="electromagneticsolver">
<h4>ElectromagneticSolver<a class="headerlink" href="#electromagneticsolver" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.ElectromagneticSolver">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">ElectromagneticSolver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stencil_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_smoother</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_smoother</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subcycling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">galilean_velocity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">divE_cleaning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">divB_cleaning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pml_divE_cleaning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pml_divB_cleaning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#ElectromagneticSolver"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.ElectromagneticSolver" title="Link to this definition"></a></dt>
<dd><p>Electromagnetic field solver</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> (<em>grid instance</em>) – Grid object for the diagnostic</p></li>
<li><p><strong>method</strong> (<em>{'Yee'</em><em>, </em><em>'CKC'</em><em>, </em><em>'Lehe'</em><em>, </em><em>'PSTD'</em><em>, </em><em>'PSATD'</em><em>, </em><em>'GPSTD'</em><em>, </em><em>'DS'</em><em>, </em><em>'ECT'}</em>) – <p>The advance method use to solve Maxwell’s equations. The default method is code dependent.</p>
<ul>
<li><p>’Yee’: standard solver using the staggered Yee grid (<a class="reference external" href="https://doi.org/10.1109/TAP.1966.1138693">https://doi.org/10.1109/TAP.1966.1138693</a>)</p></li>
<li><p>’CKC’: solver with the extended Cole-Karkkainen-Cowan stencil with better dispersion properties
(<a class="reference external" href="https://doi.org/10.1103/PhysRevSTAB.16.041303">https://doi.org/10.1103/PhysRevSTAB.16.041303</a>)</p></li>
<li><p>’Lehe’: CKC-style solver with modified dispersion (<a class="reference external" href="https://doi.org/10.1103/PhysRevSTAB.16.021301">https://doi.org/10.1103/PhysRevSTAB.16.021301</a>)</p></li>
<li><p>’PSTD’: Spectral solver with finite difference in time domain, e.g., Q. H. Liu, Letters 15 (3) (1997) 158–165</p></li>
<li><p>’PSATD’: Spectral solver with analytic in time domain (<a class="reference external" href="https://doi.org/10.1016/j.jcp.2013.03.010">https://doi.org/10.1016/j.jcp.2013.03.010</a>)</p></li>
<li><p>’DS’: Directional Splitting after Yasuhiko Sentoku (<a class="reference external" href="https://doi.org/10.1140/epjd/e2014-50162-y">https://doi.org/10.1140/epjd/e2014-50162-y</a>)</p></li>
<li><p>’ECT’: Enlarged Cell Technique solver, allowing internal conductors (<a class="reference external" href="https://doi.org/10.1109/APS.2005.1551259">https://doi.org/10.1109/APS.2005.1551259</a>)</p></li>
</ul>
</p></li>
<li><p><strong>stencil_order</strong> (<em>vector</em><em> of </em><em>integers</em>) – Order of stencil for each axis (-1=infinite)</p></li>
<li><p><strong>cfl</strong> (<em>float</em><em>, </em><em>optional</em>) – Fraction of the Courant-Friedrich-Lewy criteria [1]</p></li>
<li><p><strong>source_smoother</strong> (<em>smoother instance</em><em>, </em><em>optional</em>) – Smoother object to apply to the sources</p></li>
<li><p><strong>field_smoother</strong> (<em>smoother instance</em><em>, </em><em>optional</em>) – Smoother object to apply to the fields</p></li>
<li><p><strong>subcycling</strong> (<em>integer</em><em>, </em><em>optional</em>) – Level of subcycling for the GPSTD solver</p></li>
<li><p><strong>galilean_velocity</strong> (<em>vector</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Velocity of Galilean reference frame [m/s]</p></li>
<li><p><strong>divE_cleaning</strong> (<em>bool</em><em>, </em><em>optional</em>) – Solver uses div(E) cleaning if True</p></li>
<li><p><strong>divB_cleaning</strong> (<em>bool</em><em>, </em><em>optional</em>) – Solver uses div(B) cleaning if True</p></li>
<li><p><strong>pml_divE_cleaning</strong> (<em>bool</em><em>, </em><em>optional</em>) – Solver uses div(E) cleaning in the PML if True</p></li>
<li><p><strong>pml_divB_cleaning</strong> (<em>bool</em><em>, </em><em>optional</em>) – Solver uses div(B) cleaning in the PML if True</p></li>
</ul>
</dd>
</dl>
<p>Implementation specific documentation</p>
<p>See <a class="reference external" href="https://warpx.readthedocs.io/en/latest/usage/parameters.html">Input Parameters</a> for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>warpx_pml_ncell</strong> (<em>integer</em><em>, </em><em>optional</em>) – The depth of the PML, in number of cells</p></li>
<li><p><strong>warpx_periodic_single_box_fft</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Whether to do the spectral solver FFTs assuming a single
simulation block</p></li>
<li><p><strong>warpx_current_correction</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Whether to do the current correction for the spectral solver.
See documentation for exceptions to the default value.</p></li>
<li><p><strong>warpx_psatd_update_with_rho</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to update with the actual rho for the spectral solver</p></li>
<li><p><strong>warpx_psatd_do_time_averaging</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to do the time averaging for the spectral solver</p></li>
<li><p><strong>warpx_psatd_J_in_time</strong> (<em>{'constant'</em><em>, </em><em>'linear'}</em><em>, </em><em>default='constant'</em>) – This determines whether the current density is assumed to be constant
or linear in time, within the time step over which the electromagnetic
fields are evolved.</p></li>
<li><p><strong>warpx_psatd_rho_in_time</strong> (<em>{'linear'}</em><em>, </em><em>default='linear'</em>) – This determines whether the charge density is assumed to be linear
in time, within the time step over which the electromagnetic fields are evolved.</p></li>
<li><p><strong>warpx_do_pml_in_domain</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Whether to do the PML boundaries within the domain (versus
in the guard cells)</p></li>
<li><p><strong>warpx_pml_has_particles</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Whether to allow particles in the PML region</p></li>
<li><p><strong>warpx_do_pml_j_damping</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Whether to do damping of J in the PML</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="electrostaticsolver">
<h4>ElectrostaticSolver<a class="headerlink" href="#electrostaticsolver" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.ElectrostaticSolver">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">ElectrostaticSolver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required_precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maximum_iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#ElectrostaticSolver"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.ElectrostaticSolver" title="Link to this definition"></a></dt>
<dd><p>Electrostatic field solver</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> (<em>grid instance</em>) – Grid object for the diagnostic</p></li>
<li><p><strong>method</strong> (<em>string</em>) – One of ‘FFT’, or ‘Multigrid’</p></li>
<li><p><strong>required_precision</strong> (<em>float</em><em>, </em><em>optional</em>) – Level of precision required for iterative solvers</p></li>
<li><p><strong>maximum_iterations</strong> (<em>integer</em><em>, </em><em>optional</em>) – Maximum number of iterations for iterative solvers</p></li>
</ul>
</dd>
</dl>
<p>Implementation specific documentation</p>
<p>See <a class="reference external" href="https://warpx.readthedocs.io/en/latest/usage/parameters.html">Input Parameters</a> for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>warpx_relativistic</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Whether to use the relativistic solver or lab frame solver</p></li>
<li><p><strong>warpx_absolute_tolerance</strong> (<em>float</em><em>, </em><em>default=0.</em>) – Absolute tolerance on the lab fram solver</p></li>
<li><p><strong>warpx_self_fields_verbosity</strong> (<em>integer</em><em>, </em><em>default=2</em>) – Level of verbosity for the lab frame solver</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="cartesian3dgrid">
<h4>Cartesian3DGrid<a class="headerlink" href="#cartesian3dgrid" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.Cartesian3DGrid">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">Cartesian3DGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number_of_cells</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_boundary_conditions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_boundary_conditions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ny</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ymin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ymax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_xmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_xmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_ymin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_ymax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_zmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_zmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving_window_velocity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refined_regions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_bound_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_bound_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmin_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmax_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ymin_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ymax_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zmin_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zmax_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_boundary_conditions_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_boundary_conditions_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_xmin_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_xmax_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_ymin_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_ymax_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_zmin_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_zmax_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">guard_cells</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pml_cells</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#Cartesian3DGrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.Cartesian3DGrid" title="Link to this definition"></a></dt>
<dd><p>Three dimensional Cartesian grid
Parameters can be specified either as vectors or separately.
(If both are specified, the vector is used.)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number_of_cells</strong> (<em>vector</em><em> of </em><em>integers</em>) – Number of cells along each axis (number of nodes is number_of_cells+1)</p></li>
<li><p><strong>lower_bound</strong> (<em>vector</em><em> of </em><em>floats</em>) – Position of the node at the lower bound [m]</p></li>
<li><p><strong>upper_bound</strong> (<em>vector</em><em> of </em><em>floats</em>) – Position of the node at the upper bound [m]</p></li>
<li><p><strong>lower_boundary_conditions</strong> (<em>vector</em><em> of </em><em>strings</em>) – Conditions at lower boundaries, periodic, open, dirichlet, absorbing_silver_mueller, or neumann</p></li>
<li><p><strong>upper_boundary_conditions</strong> (<em>vector</em><em> of </em><em>strings</em>) – Conditions at upper boundaries, periodic, open, dirichlet, absorbing_silver_mueller, or neumann</p></li>
<li><p><strong>nx</strong> (<em>integer</em>) – Number of cells along X (number of nodes=nx+1)</p></li>
<li><p><strong>ny</strong> (<em>integer</em>) – Number of cells along Y (number of nodes=ny+1)</p></li>
<li><p><strong>nz</strong> (<em>integer</em>) – Number of cells along Z (number of nodes=nz+1)</p></li>
<li><p><strong>xmin</strong> (<em>float</em>) – Position of first node along X [m]</p></li>
<li><p><strong>xmax</strong> (<em>float</em>) – Position of last node along X [m]</p></li>
<li><p><strong>ymin</strong> (<em>float</em>) – Position of first node along Y [m]</p></li>
<li><p><strong>ymax</strong> (<em>float</em>) – Position of last node along Y [m]</p></li>
<li><p><strong>zmin</strong> (<em>float</em>) – Position of first node along Z [m]</p></li>
<li><p><strong>zmax</strong> (<em>float</em>) – Position of last node along Z [m]</p></li>
<li><p><strong>bc_xmin</strong> (<em>string</em>) – Boundary condition at min X: One of periodic, open, dirichlet, absorbing_silver_mueller, or neumann</p></li>
<li><p><strong>bc_xmax</strong> (<em>string</em>) – Boundary condition at max X: One of periodic, open, dirichlet, absorbing_silver_mueller, or neumann</p></li>
<li><p><strong>bc_ymin</strong> (<em>string</em>) – Boundary condition at min Y: One of periodic, open, dirichlet, absorbing_silver_mueller, or neumann</p></li>
<li><p><strong>bc_ymax</strong> (<em>string</em>) – Boundary condition at max Y: One of periodic, open, dirichlet, absorbing_silver_mueller, or neumann</p></li>
<li><p><strong>bc_zmin</strong> (<em>string</em>) – Boundary condition at min Z: One of periodic, open, dirichlet, absorbing_silver_mueller, or neumann</p></li>
<li><p><strong>bc_zmax</strong> (<em>string</em>) – Boundary condition at max Z: One of periodic, open, dirichlet, absorbing_silver_mueller, or neumann</p></li>
<li><p><strong>moving_window_velocity</strong> (<em>vector</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Moving frame velocity [m/s]</p></li>
<li><p><strong>refined_regions</strong> (<em>list</em><em> of </em><em>lists</em><em>, </em><em>optional</em>) – List of refined regions, each element being a list of the format [level, lo, hi, refinement_factor],
with level being the refinement level, with 1 being the first level of refinement, 2 being the second etc,
lo and hi being vectors of length 3 specifying the extent of the region,
and refinement_factor defaulting to [2,2,2] (relative to next lower level)</p></li>
<li><p><strong>lower_bound_particles</strong> (<em>vector</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Position of particle lower bound [m]</p></li>
<li><p><strong>upper_bound_particles</strong> (<em>vector</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Position of particle upper bound [m]</p></li>
<li><p><strong>xmin_particles</strong> (<em>float</em><em>, </em><em>optional</em>) – Position of min particle boundary along X [m]</p></li>
<li><p><strong>xmax_particles</strong> (<em>float</em><em>, </em><em>optional</em>) – Position of max particle boundary along X [m]</p></li>
<li><p><strong>ymin_particles</strong> (<em>float</em><em>, </em><em>optional</em>) – Position of min particle boundary along Y [m]</p></li>
<li><p><strong>ymax_particles</strong> (<em>float</em><em>, </em><em>optional</em>) – Position of max particle boundary along Y [m]</p></li>
<li><p><strong>float</strong> (<em>zmin_particles</em>) – Position of min particle boundary along Z [m]</p></li>
<li><p><strong>optional</strong> – Position of min particle boundary along Z [m]</p></li>
<li><p><strong>zmax_particles</strong> (<em>float</em><em>, </em><em>optional</em>) – Position of max particle boundary along Z [m]</p></li>
<li><p><strong>lower_boundary_conditions_particles</strong> (<em>vector</em><em> of </em><em>strings</em><em>, </em><em>optional</em>) – Conditions at lower boundaries for particles, periodic, absorbing, reflect or thermal</p></li>
<li><p><strong>upper_boundary_conditions_particles</strong> (<em>vector</em><em> of </em><em>strings</em><em>, </em><em>optional</em>) – Conditions at upper boundaries for particles, periodic, absorbing, reflect or thermal</p></li>
<li><p><strong>bc_xmin_particles</strong> (<em>string</em><em>, </em><em>optional</em>) – Boundary condition at min X for particles: One of periodic, absorbing, reflect, thermal</p></li>
<li><p><strong>bc_xmax_particles</strong> (<em>string</em><em>, </em><em>optional</em>) – Boundary condition at max X for particles: One of periodic, absorbing, reflect, thermal</p></li>
<li><p><strong>bc_ymin_particles</strong> (<em>string</em><em>, </em><em>optional</em>) – Boundary condition at min Y for particles: One of periodic, absorbing, reflect, thermal</p></li>
<li><p><strong>bc_ymax_particles</strong> (<em>string</em><em>, </em><em>optional</em>) – Boundary condition at max Y for particles: One of periodic, absorbing, reflect, thermal</p></li>
<li><p><strong>bc_zmin_particles</strong> (<em>string</em><em>, </em><em>optional</em>) – Boundary condition at min Z for particles: One of periodic, absorbing, reflect, thermal</p></li>
<li><p><strong>bc_zmax_particles</strong> (<em>string</em><em>, </em><em>optional</em>) – Boundary condition at max Z for particles: One of periodic, absorbing, reflect, thermal</p></li>
<li><p><strong>guard_cells</strong> (<em>vector</em><em> of </em><em>integers</em><em>, </em><em>optional</em>) – Number of guard cells used along each direction</p></li>
<li><p><strong>pml_cells</strong> (<em>vector</em><em> of </em><em>integers</em><em>, </em><em>optional</em>) – Number of Perfectly Matched Layer (PML) cells along each direction</p></li>
</ul>
</dd>
</dl>
<p class="rubric">References</p>
<ul>
<li><p>absorbing_silver_mueller: A local absorbing boundary condition that works best under normal incidence angle.
Based on the Silver-Mueller Radiation Condition, e.g., in
- A. K. Belhora and L. Pichon, “Maybe Efficient Absorbing Boundary Conditions for the Finite Element Solution of 3D Scattering Problems,” 1995,</p>
<blockquote>
<div><p><a class="reference external" href="https://doi.org/10.1109/20.376322">https://doi.org/10.1109/20.376322</a></p>
</div></blockquote>
<ul class="simple">
<li><p>B Engquist and A. Majdat, “Absorbing boundary conditions for numerical simulation of waves,” 1977,
<a class="reference external" href="https://doi.org/10.1073/pnas.74.5.1765">https://doi.org/10.1073/pnas.74.5.1765</a></p></li>
<li><p>R. Lehe, “Electromagnetic wave propagation in Particle-In-Cell codes,” 2016,
US Particle Accelerator School (USPAS) Summer Session, Self-Consistent Simulations of Beam and Plasma Systems
<a class="reference external" href="https://people.nscl.msu.edu/~lund/uspas/scs_2016/lec_adv/A1b_EM_Waves.pdf">https://people.nscl.msu.edu/~lund/uspas/scs_2016/lec_adv/A1b_EM_Waves.pdf</a></p></li>
</ul>
</li>
</ul>
<p>Implementation specific documentation</p>
<p>See <a class="reference external" href="https://warpx.readthedocs.io/en/latest/usage/parameters.html">Input Parameters</a> for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>warpx_max_grid_size</strong> (<em>integer</em><em>, </em><em>default=32</em>) – Maximum block size in either direction</p></li>
<li><p><strong>warpx_max_grid_size_x</strong> (<em>integer</em><em>, </em><em>optional</em>) – Maximum block size in x direction</p></li>
<li><p><strong>warpx_max_grid_size_y</strong> (<em>integer</em><em>, </em><em>optional</em>) – Maximum block size in z direction</p></li>
<li><p><strong>warpx_max_grid_size_z</strong> (<em>integer</em><em>, </em><em>optional</em>) – Maximum block size in z direction</p></li>
<li><p><strong>warpx_blocking_factor</strong> (<em>integer</em><em>, </em><em>optional</em>) – Blocking factor (which controls the block size)</p></li>
<li><p><strong>warpx_blocking_factor_x</strong> (<em>integer</em><em>, </em><em>optional</em>) – Blocking factor (which controls the block size) in the x direction</p></li>
<li><p><strong>warpx_blocking_factor_y</strong> (<em>integer</em><em>, </em><em>optional</em>) – Blocking factor (which controls the block size) in the z direction</p></li>
<li><p><strong>warpx_blocking_factor_z</strong> (<em>integer</em><em>, </em><em>optional</em>) – Blocking factor (which controls the block size) in the z direction</p></li>
<li><p><strong>warpx_potential_lo_x</strong> (<em>float</em><em>, </em><em>default=0.</em>) – Electrostatic potential on the lower x boundary</p></li>
<li><p><strong>warpx_potential_hi_x</strong> (<em>float</em><em>, </em><em>default=0.</em>) – Electrostatic potential on the upper x boundary</p></li>
<li><p><strong>warpx_potential_lo_y</strong> (<em>float</em><em>, </em><em>default=0.</em>) – Electrostatic potential on the lower z boundary</p></li>
<li><p><strong>warpx_potential_hi_y</strong> (<em>float</em><em>, </em><em>default=0.</em>) – Electrostatic potential on the upper z boundary</p></li>
<li><p><strong>warpx_potential_lo_z</strong> (<em>float</em><em>, </em><em>default=0.</em>) – Electrostatic potential on the lower z boundary</p></li>
<li><p><strong>warpx_potential_hi_z</strong> (<em>float</em><em>, </em><em>default=0.</em>) – Electrostatic potential on the upper z boundary</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="cartesian2dgrid">
<h4>Cartesian2DGrid<a class="headerlink" href="#cartesian2dgrid" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.Cartesian2DGrid">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">Cartesian2DGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number_of_cells</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_boundary_conditions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_boundary_conditions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ny</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ymin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ymax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_xmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_xmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_ymin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_ymax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving_window_velocity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refined_regions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_bound_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_bound_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmin_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmax_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ymin_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ymax_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_boundary_conditions_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_boundary_conditions_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_xmin_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_xmax_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_ymin_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_ymax_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">guard_cells</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pml_cells</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#Cartesian2DGrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.Cartesian2DGrid" title="Link to this definition"></a></dt>
<dd><p>Two dimensional Cartesian grid
Parameters can be specified either as vectors or separately.
(If both are specified, the vector is used.)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number_of_cells</strong> (<em>vector</em><em> of </em><em>integers</em>) – Number of cells along each axis (number of nodes is number_of_cells+1)</p></li>
<li><p><strong>lower_bound</strong> (<em>vector</em><em> of </em><em>floats</em>) – Position of the node at the lower bound [m]</p></li>
<li><p><strong>upper_bound</strong> (<em>vector</em><em> of </em><em>floats</em>) – Position of the node at the upper bound [m]</p></li>
<li><p><strong>lower_boundary_conditions</strong> (<em>vector</em><em> of </em><em>strings</em>) – Conditions at lower boundaries, periodic, open, dirichlet, absorbing_silver_mueller, or neumann</p></li>
<li><p><strong>upper_boundary_conditions</strong> (<em>vector</em><em> of </em><em>strings</em>) – Conditions at upper boundaries, periodic, open, dirichlet, absorbing_silver_mueller, or neumann</p></li>
<li><p><strong>nx</strong> (<em>integer</em>) – Number of cells along X (number of nodes=nx+1)</p></li>
<li><p><strong>ny</strong> (<em>integer</em>) – Number of cells along Y (number of nodes=ny+1)</p></li>
<li><p><strong>xmin</strong> (<em>float</em>) – Position of first node along X [m]</p></li>
<li><p><strong>xmax</strong> (<em>float</em>) – Position of last node along X [m]</p></li>
<li><p><strong>ymin</strong> (<em>float</em>) – Position of first node along Y [m]</p></li>
<li><p><strong>ymax</strong> (<em>float</em>) – Position of last node along Y [m]</p></li>
<li><p><strong>bc_xmin</strong> (<em>vector</em><em> of </em><em>strings</em>) – Boundary condition at min X: One of periodic, open, dirichlet, absorbing_silver_mueller, or neumann</p></li>
<li><p><strong>bc_xmax</strong> (<em>vector</em><em> of </em><em>strings</em>) – Boundary condition at max X: One of periodic, open, dirichlet, absorbing_silver_mueller, or neumann</p></li>
<li><p><strong>bc_ymin</strong> (<em>vector</em><em> of </em><em>strings</em>) – Boundary condition at min Y: One of periodic, open, dirichlet, absorbing_silver_mueller, or neumann</p></li>
<li><p><strong>bc_ymax</strong> (<em>vector</em><em> of </em><em>strings</em>) – Boundary condition at max Y: One of periodic, open, dirichlet, absorbing_silver_mueller, or neumann</p></li>
<li><p><strong>moving_window_velocity</strong> (<em>vector</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Moving frame velocity [m/s]</p></li>
<li><p><strong>refined_regions</strong> (<em>list</em><em> of </em><em>lists</em><em>, </em><em>optional</em>) – List of refined regions, each element being a list of the format [level, lo, hi, refinement_factor],
with level being the refinement level, with 1 being the first level of refinement, 2 being the second etc,
lo and hi being vectors of length 2 specifying the extent of the region,
and refinement_factor defaulting to [2,2] (relative to next lower level)</p></li>
<li><p><strong>lower_bound_particles</strong> (<em>vector</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Position of particle lower bound [m]</p></li>
<li><p><strong>upper_bound_particles</strong> (<em>vector</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Position of particle upper bound [m]</p></li>
<li><p><strong>xmin_particles</strong> (<em>float</em><em>, </em><em>optional</em>) – Position of min particle boundary along X [m]</p></li>
<li><p><strong>xmax_particles</strong> (<em>float</em><em>, </em><em>optional</em>) – Position of max particle boundary along X [m]</p></li>
<li><p><strong>ymin_particles</strong> (<em>float</em><em>, </em><em>optional</em>) – Position of min particle boundary along Y [m]</p></li>
<li><p><strong>ymax_particles</strong> (<em>float</em><em>, </em><em>optional</em>) – Position of max particle boundary along Y [m]</p></li>
<li><p><strong>lower_boundary_conditions_particles</strong> (<em>vector</em><em> of </em><em>strings</em><em>, </em><em>optional</em>) – Conditions at lower boundaries for particles, periodic, absorbing, reflect or thermal</p></li>
<li><p><strong>upper_boundary_conditions_particles</strong> (<em>vector</em><em> of </em><em>strings</em><em>, </em><em>optional</em>) – Conditions at upper boundaries for particles, periodic, absorbing, reflect or thermal</p></li>
<li><p><strong>bc_xmin_particles</strong> (<em>string</em><em>, </em><em>optional</em>) – Boundary condition at min X for particles: One of periodic, absorbing, reflect, thermal</p></li>
<li><p><strong>bc_xmax_particles</strong> (<em>string</em><em>, </em><em>optional</em>) – Boundary condition at max X for particles: One of periodic, absorbing, reflect, thermal</p></li>
<li><p><strong>bc_ymin_particles</strong> (<em>string</em><em>, </em><em>optional</em>) – Boundary condition at min Y for particles: One of periodic, absorbing, reflect, thermal</p></li>
<li><p><strong>bc_ymax_particles</strong> (<em>string</em><em>, </em><em>optional</em>) – Boundary condition at max Y for particles: One of periodic, absorbing, reflect, thermal</p></li>
<li><p><strong>guard_cells</strong> (<em>vector</em><em> of </em><em>integers</em><em>, </em><em>optional</em>) – Number of guard cells used along each direction</p></li>
<li><p><strong>pml_cells</strong> (<em>vector</em><em> of </em><em>integers</em><em>, </em><em>optional</em>) – Number of Perfectly Matched Layer (PML) cells along each direction</p></li>
</ul>
</dd>
</dl>
<p class="rubric">References</p>
<ul>
<li><p>absorbing_silver_mueller: A local absorbing boundary condition that works best under normal incidence angle.
Based on the Silver-Mueller Radiation Condition, e.g., in
- A. K. Belhora and L. Pichon, “Maybe Efficient Absorbing Boundary Conditions for the Finite Element Solution of 3D Scattering Problems,” 1995,</p>
<blockquote>
<div><p><a class="reference external" href="https://doi.org/10.1109/20.376322">https://doi.org/10.1109/20.376322</a></p>
</div></blockquote>
<ul class="simple">
<li><p>B Engquist and A. Majdat, “Absorbing boundary conditions for numerical simulation of waves,” 1977,
<a class="reference external" href="https://doi.org/10.1073/pnas.74.5.1765">https://doi.org/10.1073/pnas.74.5.1765</a></p></li>
<li><p>R. Lehe, “Electromagnetic wave propagation in Particle-In-Cell codes,” 2016,
US Particle Accelerator School (USPAS) Summer Session, Self-Consistent Simulations of Beam and Plasma Systems
<a class="reference external" href="https://people.nscl.msu.edu/~lund/uspas/scs_2016/lec_adv/A1b_EM_Waves.pdf">https://people.nscl.msu.edu/~lund/uspas/scs_2016/lec_adv/A1b_EM_Waves.pdf</a></p></li>
</ul>
</li>
</ul>
<p>Implementation specific documentation</p>
<p>See <a class="reference external" href="https://warpx.readthedocs.io/en/latest/usage/parameters.html">Input Parameters</a> for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>warpx_max_grid_size</strong> (<em>integer</em><em>, </em><em>default=32</em>) – Maximum block size in either direction</p></li>
<li><p><strong>warpx_max_grid_size_x</strong> (<em>integer</em><em>, </em><em>optional</em>) – Maximum block size in x direction</p></li>
<li><p><strong>warpx_max_grid_size_y</strong> (<em>integer</em><em>, </em><em>optional</em>) – Maximum block size in z direction</p></li>
<li><p><strong>warpx_blocking_factor</strong> (<em>integer</em><em>, </em><em>optional</em>) – Blocking factor (which controls the block size)</p></li>
<li><p><strong>warpx_blocking_factor_x</strong> (<em>integer</em><em>, </em><em>optional</em>) – Blocking factor (which controls the block size) in the x direction</p></li>
<li><p><strong>warpx_blocking_factor_y</strong> (<em>integer</em><em>, </em><em>optional</em>) – Blocking factor (which controls the block size) in the z direction</p></li>
<li><p><strong>warpx_potential_lo_x</strong> (<em>float</em><em>, </em><em>default=0.</em>) – Electrostatic potential on the lower x boundary</p></li>
<li><p><strong>warpx_potential_hi_x</strong> (<em>float</em><em>, </em><em>default=0.</em>) – Electrostatic potential on the upper x boundary</p></li>
<li><p><strong>warpx_potential_lo_z</strong> (<em>float</em><em>, </em><em>default=0.</em>) – Electrostatic potential on the lower z boundary</p></li>
<li><p><strong>warpx_potential_hi_z</strong> (<em>float</em><em>, </em><em>default=0.</em>) – Electrostatic potential on the upper z boundary</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="cartesian1dgrid">
<h4>Cartesian1DGrid<a class="headerlink" href="#cartesian1dgrid" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.Cartesian1DGrid">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">Cartesian1DGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number_of_cells</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_boundary_conditions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_boundary_conditions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_xmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_xmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving_window_velocity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refined_regions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_bound_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_bound_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmin_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmax_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_boundary_conditions_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_boundary_conditions_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_xmin_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_xmax_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">guard_cells</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pml_cells</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#Cartesian1DGrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.Cartesian1DGrid" title="Link to this definition"></a></dt>
<dd><p>One-dimensional Cartesian grid
Parameters can be specified either as vectors or separately.
(If both are specified, the vector is used.)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number_of_cells</strong> (<em>vector</em><em> of </em><em>integers</em>) – Number of cells along each axis (number of nodes is number_of_cells+1)</p></li>
<li><p><strong>lower_bound</strong> (<em>vector</em><em> of </em><em>floats</em>) – Position of the node at the lower bound [m]</p></li>
<li><p><strong>upper_bound</strong> (<em>vector</em><em> of </em><em>floats</em>) – Position of the node at the upper bound [m]</p></li>
<li><p><strong>lower_boundary_conditions</strong> (<em>vector</em><em> of </em><em>strings</em>) – Conditions at lower boundaries, periodic, open, dirichlet, absorbing_silver_mueller, or neumann</p></li>
<li><p><strong>upper_boundary_conditions</strong> (<em>vector</em><em> of </em><em>strings</em>) – Conditions at upper boundaries, periodic, open, dirichlet, absorbing_silver_mueller, or neumann</p></li>
<li><p><strong>nx</strong> (<em>integer</em>) – Number of cells along X (number of nodes=nx+1)</p></li>
<li><p><strong>xmin</strong> (<em>float</em>) – Position of first node along X [m]</p></li>
<li><p><strong>xmax</strong> (<em>float</em>) – Position of last node along X [m]</p></li>
<li><p><strong>bc_xmin</strong> (<em>vector</em><em> of </em><em>strings</em>) – Boundary condition at min X: One of periodic, open, dirichlet, absorbing_silver_mueller, or neumann</p></li>
<li><p><strong>bc_xmax</strong> (<em>vector</em><em> of </em><em>strings</em>) – Boundary condition at max X: One of periodic, open, dirichlet, absorbing_silver_mueller, or neumann</p></li>
<li><p><strong>moving_window_velocity</strong> (<em>vector</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Moving frame velocity [m/s]</p></li>
<li><p><strong>refined_regions</strong> (<em>list</em><em> of </em><em>lists</em><em>, </em><em>optional</em>) – List of refined regions, each element being a list of the format [level, lo, hi, refinement_factor],
with level being the refinement level, with 1 being the first level of refinement, 2 being the second etc,
lo and hi being vectors of length 2 specifying the extent of the region,
and refinement_factor defaulting to [2,2] (relative to next lower level)</p></li>
<li><p><strong>lower_bound_particles</strong> (<em>vector</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Position of particle lower bound [m]</p></li>
<li><p><strong>upper_bound_particles</strong> (<em>vector</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Position of particle upper bound [m]</p></li>
<li><p><strong>xmin_particles</strong> (<em>float</em><em>, </em><em>optional</em>) – Position of min particle boundary along X [m]</p></li>
<li><p><strong>xmax_particles</strong> (<em>float</em><em>, </em><em>optional</em>) – Position of max particle boundary along X [m]</p></li>
<li><p><strong>lower_boundary_conditions_particles</strong> (<em>vector</em><em> of </em><em>strings</em><em>, </em><em>optional</em>) – Conditions at lower boundaries for particles, periodic, absorbing, reflect or thermal</p></li>
<li><p><strong>upper_boundary_conditions_particles</strong> (<em>vector</em><em> of </em><em>strings</em><em>, </em><em>optional</em>) – Conditions at upper boundaries for particles, periodic, absorbing, reflect or thermal</p></li>
<li><p><strong>bc_xmin_particles</strong> (<em>string</em><em>, </em><em>optional</em>) – Boundary condition at min X for particles: One of periodic, absorbing, reflect, thermal</p></li>
<li><p><strong>bc_xmax_particles</strong> (<em>string</em><em>, </em><em>optional</em>) – Boundary condition at max X for particles: One of periodic, absorbing, reflect, thermal</p></li>
<li><p><strong>guard_cells</strong> (<em>vector</em><em> of </em><em>integers</em><em>, </em><em>optional</em>) – Number of guard cells used along each direction</p></li>
<li><p><strong>pml_cells</strong> (<em>vector</em><em> of </em><em>integers</em><em>, </em><em>optional</em>) – Number of Perfectly Matched Layer (PML) cells along each direction</p></li>
</ul>
</dd>
</dl>
<p class="rubric">References</p>
<ul>
<li><p>absorbing_silver_mueller: A local absorbing boundary condition that works best under normal incidence angle.
Based on the Silver-Mueller Radiation Condition, e.g., in
- A. K. Belhora and L. Pichon, “Maybe Efficient Absorbing Boundary Conditions for the Finite Element Solution of 3D Scattering Problems,” 1995,</p>
<blockquote>
<div><p><a class="reference external" href="https://doi.org/10.1109/20.376322">https://doi.org/10.1109/20.376322</a></p>
</div></blockquote>
<ul class="simple">
<li><p>B Engquist and A. Majdat, “Absorbing boundary conditions for numerical simulation of waves,” 1977,
<a class="reference external" href="https://doi.org/10.1073/pnas.74.5.1765">https://doi.org/10.1073/pnas.74.5.1765</a></p></li>
<li><p>R. Lehe, “Electromagnetic wave propagation in Particle-In-Cell codes,” 2016,
US Particle Accelerator School (USPAS) Summer Session, Self-Consistent Simulations of Beam and Plasma Systems
<a class="reference external" href="https://people.nscl.msu.edu/~lund/uspas/scs_2016/lec_adv/A1b_EM_Waves.pdf">https://people.nscl.msu.edu/~lund/uspas/scs_2016/lec_adv/A1b_EM_Waves.pdf</a></p></li>
</ul>
</li>
</ul>
<p>Implementation specific documentation</p>
<p>See <a class="reference external" href="https://warpx.readthedocs.io/en/latest/usage/parameters.html">Input Parameters</a> for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>warpx_max_grid_size</strong> (<em>integer</em><em>, </em><em>default=32</em>) – Maximum block size in either direction</p></li>
<li><p><strong>warpx_max_grid_size_x</strong> (<em>integer</em><em>, </em><em>optional</em>) – Maximum block size in longitudinal direction</p></li>
<li><p><strong>warpx_blocking_factor</strong> (<em>integer</em><em>, </em><em>optional</em>) – Blocking factor (which controls the block size)</p></li>
<li><p><strong>warpx_blocking_factor_x</strong> (<em>integer</em><em>, </em><em>optional</em>) – Blocking factor (which controls the block size) in the longitudinal direction</p></li>
<li><p><strong>warpx_potential_lo_z</strong> (<em>float</em><em>, </em><em>default=0.</em>) – Electrostatic potential on the lower longitudinal boundary</p></li>
<li><p><strong>warpx_potential_hi_z</strong> (<em>float</em><em>, </em><em>default=0.</em>) – Electrostatic potential on the upper longitudinal boundary</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="cylindricalgrid">
<h4>CylindricalGrid<a class="headerlink" href="#cylindricalgrid" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.CylindricalGrid">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">CylindricalGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number_of_cells</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_boundary_conditions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_boundary_conditions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_azimuthal_modes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_rmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_rmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_zmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_zmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">moving_window_velocity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refined_regions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_bound_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_bound_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rmin_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rmax_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zmin_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zmax_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_boundary_conditions_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_boundary_conditions_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_rmin_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_rmax_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_zmin_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bc_zmax_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">guard_cells</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pml_cells</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#CylindricalGrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.CylindricalGrid" title="Link to this definition"></a></dt>
<dd><p>Axisymmetric, cylindrical grid
Parameters can be specified either as vectors or separately.
(If both are specified, the vector is used.)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number_of_cells</strong> (<em>vector</em><em> of </em><em>integers</em>) – Number of cells along each axis (number of nodes is number_of_cells+1)</p></li>
<li><p><strong>lower_bound</strong> (<em>vector</em><em> of </em><em>floats</em>) – Position of the node at the lower bound [m]</p></li>
<li><p><strong>upper_bound</strong> (<em>vector</em><em> of </em><em>floats</em>) – Position of the node at the upper bound [m]</p></li>
<li><p><strong>lower_boundary_conditions</strong> (<em>vector</em><em> of </em><em>strings</em>) – Conditions at lower boundaries, periodic, open, dirichlet, absorbing_silver_mueller, or neumann</p></li>
<li><p><strong>upper_boundary_conditions</strong> (<em>vector</em><em> of </em><em>strings</em>) – Conditions at upper boundaries, periodic, open, dirichlet, absorbing_silver_mueller, or neumann</p></li>
<li><p><strong>nr</strong> (<em>integer</em>) – Number of cells along R (number of nodes=nr+1)</p></li>
<li><p><strong>nz</strong> (<em>integer</em>) – Number of cells along Z (number of nodes=nz+1)</p></li>
<li><p><strong>n_azimuthal_modes</strong> (<em>integer</em>) – Number of azimuthal modes</p></li>
<li><p><strong>rmin</strong> (<em>float</em>) – Position of first node along R [m]</p></li>
<li><p><strong>rmax</strong> (<em>float</em>) – Position of last node along R [m]</p></li>
<li><p><strong>zmin</strong> (<em>float</em>) – Position of first node along Z [m]</p></li>
<li><p><strong>zmax</strong> (<em>float</em>) – Position of last node along Z [m]</p></li>
<li><p><strong>bc_rmin</strong> (<em>vector</em><em> of </em><em>strings</em>) – Boundary condition at min R: One of open, dirichlet, absorbing_silver_mueller, or neumann</p></li>
<li><p><strong>bc_rmax</strong> (<em>vector</em><em> of </em><em>strings</em>) – Boundary condition at max R: One of open, dirichlet, absorbing_silver_mueller, or neumann</p></li>
<li><p><strong>bc_zmin</strong> (<em>vector</em><em> of </em><em>strings</em>) – Boundary condition at min Z: One of periodic, open, dirichlet, absorbing_silver_mueller, or neumann</p></li>
<li><p><strong>bc_zmax</strong> (<em>vector</em><em> of </em><em>strings</em>) – Boundary condition at max Z: One of periodic, open, dirichlet, absorbing_silver_mueller, or neumann</p></li>
<li><p><strong>moving_window_velocity</strong> (<em>vector</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Moving frame velocity [m/s]</p></li>
<li><p><strong>refined_regions</strong> (<em>list</em><em> of </em><em>lists</em><em>, </em><em>optional</em>) – List of refined regions, each element being a list of the format [level, lo, hi, refinement_factor],
with level being the refinement level, with 1 being the first level of refinement, 2 being the second etc,
lo and hi being vectors of length 2 specifying the extent of the region,
and refinement_factor defaulting to [2,2] (relative to next lower level)</p></li>
<li><p><strong>lower_bound_particles</strong> (<em>vector</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Position of particle lower bound [m]</p></li>
<li><p><strong>upper_bound_particles</strong> (<em>vector</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Position of particle upper bound [m]</p></li>
<li><p><strong>rmin_particles</strong> (<em>float</em><em>, </em><em>optional</em>) – Position of min particle boundary along R [m]</p></li>
<li><p><strong>rmax_particles</strong> (<em>float</em><em>, </em><em>optional</em>) – Position of max particle boundary along R [m]</p></li>
<li><p><strong>zmin_particles</strong> (<em>float</em><em>, </em><em>optional</em>) – Position of min particle boundary along Z [m]</p></li>
<li><p><strong>zmax_particles</strong> (<em>float</em><em>, </em><em>optional</em>) – Position of max particle boundary along Z [m]</p></li>
<li><p><strong>lower_boundary_conditions_particles</strong> (<em>vector</em><em> of </em><em>strings</em><em>, </em><em>optional</em>) – Conditions at lower boundaries for particles, periodic, absorbing, reflect or thermal</p></li>
<li><p><strong>upper_boundary_conditions_particles</strong> (<em>vector</em><em> of </em><em>strings</em><em>, </em><em>optional</em>) – Conditions at upper boundaries for particles, periodic, absorbing, reflect or thermal</p></li>
<li><p><strong>bc_rmin_particles</strong> (<em>string</em><em>, </em><em>optional</em>) – Boundary condition at min R for particles: One of periodic, absorbing, reflect, thermal</p></li>
<li><p><strong>bc_rmax_particles</strong> (<em>string</em><em>, </em><em>optional</em>) – Boundary condition at max R for particles: One of periodic, absorbing, reflect, thermal</p></li>
<li><p><strong>bc_zmin_particles</strong> (<em>string</em><em>, </em><em>optional</em>) – Boundary condition at min Z for particles: One of periodic, absorbing, reflect, thermal</p></li>
<li><p><strong>bc_zmax_particles</strong> (<em>string</em><em>, </em><em>optional</em>) – Boundary condition at max Z for particles: One of periodic, absorbing, reflect, thermal</p></li>
<li><p><strong>guard_cells</strong> (<em>vector</em><em> of </em><em>integers</em><em>, </em><em>optional</em>) – Number of guard cells used along each direction</p></li>
<li><p><strong>pml_cells</strong> (<em>vector</em><em> of </em><em>integers</em><em>, </em><em>optional</em>) – Number of Perfectly Matched Layer (PML) cells along each direction</p></li>
</ul>
</dd>
</dl>
<p class="rubric">References</p>
<ul>
<li><p>absorbing_silver_mueller: A local absorbing boundary condition that works best under normal incidence angle.
Based on the Silver-Mueller Radiation Condition, e.g., in
- A. K. Belhora and L. Pichon, “Maybe Efficient Absorbing Boundary Conditions for the Finite Element Solution of 3D Scattering Problems,” 1995,</p>
<blockquote>
<div><p><a class="reference external" href="https://doi.org/10.1109/20.376322">https://doi.org/10.1109/20.376322</a></p>
</div></blockquote>
<ul class="simple">
<li><p>B Engquist and A. Majdat, “Absorbing boundary conditions for numerical simulation of waves,” 1977,
<a class="reference external" href="https://doi.org/10.1073/pnas.74.5.1765">https://doi.org/10.1073/pnas.74.5.1765</a></p></li>
<li><p>R. Lehe, “Electromagnetic wave propagation in Particle-In-Cell codes,” 2016,
US Particle Accelerator School (USPAS) Summer Session, Self-Consistent Simulations of Beam and Plasma Systems
<a class="reference external" href="https://people.nscl.msu.edu/~lund/uspas/scs_2016/lec_adv/A1b_EM_Waves.pdf">https://people.nscl.msu.edu/~lund/uspas/scs_2016/lec_adv/A1b_EM_Waves.pdf</a></p></li>
</ul>
</li>
</ul>
<p>Implementation specific documentation</p>
<p>This assumes that WarpX was compiled with USE_RZ = TRUE</p>
<p>See <a class="reference external" href="https://warpx.readthedocs.io/en/latest/usage/parameters.html">Input Parameters</a> for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>warpx_max_grid_size</strong> (<em>integer</em><em>, </em><em>default=32</em>) – Maximum block size in either direction</p></li>
<li><p><strong>warpx_max_grid_size_x</strong> (<em>integer</em><em>, </em><em>optional</em>) – Maximum block size in radial direction</p></li>
<li><p><strong>warpx_max_grid_size_y</strong> (<em>integer</em><em>, </em><em>optional</em>) – Maximum block size in longitudinal direction</p></li>
<li><p><strong>warpx_blocking_factor</strong> (<em>integer</em><em>, </em><em>optional</em>) – Blocking factor (which controls the block size)</p></li>
<li><p><strong>warpx_blocking_factor_x</strong> (<em>integer</em><em>, </em><em>optional</em>) – Blocking factor (which controls the block size) in the radial direction</p></li>
<li><p><strong>warpx_blocking_factor_y</strong> (<em>integer</em><em>, </em><em>optional</em>) – Blocking factor (which controls the block size) in the longitudinal direction</p></li>
<li><p><strong>warpx_potential_lo_r</strong> (<em>float</em><em>, </em><em>default=0.</em>) – Electrostatic potential on the lower radial boundary</p></li>
<li><p><strong>warpx_potential_hi_r</strong> (<em>float</em><em>, </em><em>default=0.</em>) – Electrostatic potential on the upper radial boundary</p></li>
<li><p><strong>warpx_potential_lo_z</strong> (<em>float</em><em>, </em><em>default=0.</em>) – Electrostatic potential on the lower longitudinal boundary</p></li>
<li><p><strong>warpx_potential_hi_z</strong> (<em>float</em><em>, </em><em>default=0.</em>) – Electrostatic potential on the upper longitudinal boundary</p></li>
<li><p><strong>warpx_reflect_all_velocities</strong> (<em>bool default=False</em>) – Whether the sign of all of the particle velocities are changed upon
reflection on a boundary, or only the velocity normal to the surface</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="embeddedboundary">
<h4>EmbeddedBoundary<a class="headerlink" href="#embeddedboundary" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.EmbeddedBoundary">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">EmbeddedBoundary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">implicit_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stl_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stl_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stl_center</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stl_reverse_normal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">potential</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cover_multiple_cuts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#EmbeddedBoundary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.EmbeddedBoundary" title="Link to this definition"></a></dt>
<dd><p>Custom class to handle set up of embedded boundaries specific to WarpX.
If embedded boundary initialization is added to picmistandard this can be
changed to inherit that functionality. The geometry can be specified either as
an implicit function or as an STL file (ASCII or binary). In the latter case the
geometry specified in the STL file can be scaled, translated and inverted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>implicit_function</strong> (<em>string</em>) – Analytic expression describing the embedded boundary</p></li>
<li><p><strong>stl_file</strong> (<em>string</em>) – STL file path (string), file contains the embedded boundary geometry</p></li>
<li><p><strong>stl_scale</strong> (<em>float</em>) – Factor by which the STL geometry is scaled</p></li>
<li><p><strong>stl_center</strong> (<em>vector</em><em> of </em><em>floats</em>) – Vector by which the STL geometry is translated (in meters)</p></li>
<li><p><strong>stl_reverse_normal</strong> (<em>bool</em>) – If True inverts the orientation of the STL geometry</p></li>
<li><p><strong>potential</strong> (<em>string</em><em>, </em><em>default=0.</em>) – Analytic expression defining the potential. Can only be specified
when the solver is electrostatic.</p></li>
<li><p><strong>cover_multiple_cuts</strong> (<em>bool</em><em>, </em><em>default=None</em>) – Whether to cover cells with multiple cuts.
(If False, this will raise an error if some cells have multiple cuts)</p></li>
<li><p><strong>arguments.</strong> (<em>Parameters used in the analytic expressions should be given as additional keyword</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>
<section id="applied-fields">
<h3>Applied fields<a class="headerlink" href="#applied-fields" title="Link to this heading"></a></h3>
<section id="constantappliedfield">
<h4>ConstantAppliedField<a class="headerlink" href="#constantappliedfield" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.ConstantAppliedField">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">ConstantAppliedField</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Ex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ey</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ez</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Bx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">By</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Bz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[None,</span> <span class="pre">None,</span> <span class="pre">None]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[None,</span> <span class="pre">None,</span> <span class="pre">None]</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#ConstantAppliedField"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.ConstantAppliedField" title="Link to this definition"></a></dt>
<dd><p>Describes a constant applied field</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Ex</strong> (<em>float</em><em>, </em><em>default=0.</em>) – Constant Ex field [V/m]</p></li>
<li><p><strong>Ey</strong> (<em>float</em><em>, </em><em>default=0.</em>) – Constant Ey field [V/m]</p></li>
<li><p><strong>Ez</strong> (<em>float</em><em>, </em><em>default=0.</em>) – Constant Ez field [V/m]</p></li>
<li><p><strong>Bx</strong> (<em>float</em><em>, </em><em>default=0.</em>) – Constant Bx field [T]</p></li>
<li><p><strong>By</strong> (<em>float</em><em>, </em><em>default=0.</em>) – Constant By field [T]</p></li>
<li><p><strong>Bz</strong> (<em>float</em><em>, </em><em>default=0.</em>) – Constant Bz field [T]</p></li>
<li><p><strong>lower_bound</strong> (<em>vector</em><em>, </em><em>optional</em>) – Lower bound of the region where the field is applied [m].</p></li>
<li><p><strong>upper_bound</strong> (<em>vector</em><em>, </em><em>optional</em>) – Upper bound of the region where the field is applied [m]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="analyticappliedfield">
<h4>AnalyticAppliedField<a class="headerlink" href="#analyticappliedfield" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.AnalyticAppliedField">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">AnalyticAppliedField</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Ex_expression</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ey_expression</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ez_expression</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Bx_expression</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">By_expression</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Bz_expression</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[None,</span> <span class="pre">None,</span> <span class="pre">None]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[None,</span> <span class="pre">None,</span> <span class="pre">None]</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#AnalyticAppliedField"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.AnalyticAppliedField" title="Link to this definition"></a></dt>
<dd><p>Describes an analytic applied field</p>
<p>The expressions should be in terms of the position and time, written as ‘x’, ‘y’, ‘z’, ‘t’.
Parameters can be used in the expression with the values given as additional keyword arguments.
Expressions should be relative to the lab frame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Ex_expression</strong> (<em>string</em><em>, </em><em>optional</em>) – Analytic expression describing Ex field [V/m]</p></li>
<li><p><strong>Ey_expression</strong> (<em>string</em><em>, </em><em>optional</em>) – Analytic expression describing Ey field [V/m]</p></li>
<li><p><strong>Ez_expression</strong> (<em>string</em><em>, </em><em>optional</em>) – Analytic expression describing Ez field [V/m]</p></li>
<li><p><strong>Bx_expression</strong> (<em>string</em><em>, </em><em>optional</em>) – Analytic expression describing Bx field [T]</p></li>
<li><p><strong>By_expression</strong> (<em>string</em><em>, </em><em>optional</em>) – Analytic expression describing By field [T]</p></li>
<li><p><strong>Bz_expression</strong> (<em>string</em><em>, </em><em>optional</em>) – Analytic expression describing Bz field [T]</p></li>
<li><p><strong>lower_bound</strong> (<em>vector</em><em>, </em><em>optional</em>) – Lower bound of the region where the field is applied [m].</p></li>
<li><p><strong>upper_bound</strong> (<em>vector</em><em>, </em><em>optional</em>) – Upper bound of the region where the field is applied [m]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="plasmalens">
<h4>PlasmaLens<a class="headerlink" href="#plasmalens" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.PlasmaLens">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">PlasmaLens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">period</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">starts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lengths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strengths_E</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strengths_B</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#PlasmaLens"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.PlasmaLens" title="Link to this definition"></a></dt>
<dd><p>Custom class to setup a plasma lens lattice.
The applied fields are dependent only on the transverse position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>period</strong> (<em>float</em>) – Periodicity of the lattice (in lab frame, in meters)</p></li>
<li><p><strong>starts</strong> (<em>list</em><em> of </em><em>floats</em>) – The start of each lens relative to the periodic repeat</p></li>
<li><p><strong>lengths</strong> (<em>list</em><em> of </em><em>floats</em>) – The length of each lens</p></li>
<li><p><strong>strengths_E=None</strong> (<em>list</em><em> of </em><em>floats</em><em>, </em><em>default = 0.</em>) – The electric field strength of each lens</p></li>
<li><p><strong>strengths_B=None</strong> (<em>list</em><em> of </em><em>floats</em><em>, </em><em>default = 0.</em>) – The magnetic field strength of each lens</p></li>
</ul>
</dd>
</dl>
<p>The field that is applied depends on the transverse position of the particle, (x,y)</p>
<ul class="simple">
<li><p>Ex = x*stengths_E</p></li>
<li><p>Ey = y*stengths_E</p></li>
<li><p>Bx = +y*stengths_B</p></li>
<li><p>By = -x*stengths_B</p></li>
</ul>
</dd></dl>

</section>
<section id="mirror">
<h4>Mirror<a class="headerlink" href="#mirror" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.Mirror">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">Mirror</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_front_location</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_front_location</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_front_location</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_cells</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#Mirror"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.Mirror" title="Link to this definition"></a></dt>
<dd><p>Describes a perfectly reflecting mirror, where the E and B fields are zeroed
out in a plane of finite thickness.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_front_location</strong> (<em>float</em><em>, </em><em>optional</em><em> (</em><em>see comment below</em><em>)</em>) – Location in x of the front of the nirror [m]</p></li>
<li><p><strong>y_front_location</strong> (<em>float</em><em>, </em><em>optional</em><em> (</em><em>see comment below</em><em>)</em>) – Location in y of the front of the nirror [m]</p></li>
<li><p><strong>z_front_location</strong> (<em>float</em><em>, </em><em>optional</em><em> (</em><em>see comment below</em><em>)</em>) – Location in z of the front of the nirror [m]</p></li>
<li><p><strong>depth</strong> (<em>float</em><em>, </em><em>optional</em><em> (</em><em>see comment below</em><em>)</em>) – Depth of the mirror [m]</p></li>
<li><p><strong>number_of_cells</strong> (<em>integer</em><em>, </em><em>optional</em><em> (</em><em>see comment below</em><em>)</em>) – Minimum numer of cells zeroed out</p></li>
</ul>
</dd>
</dl>
<p>Only one of the [x,y,z]_front_location should be specified. The mirror will be set
perpendicular to the respective direction and infinite in the others.
The depth of the mirror will be the maximum of the specified depth and number_of_cells,
or the code’s default value if neither are specified.</p>
</dd></dl>

</section>
</section>
<section id="diagnostics">
<h3>Diagnostics<a class="headerlink" href="#diagnostics" title="Link to this heading"></a></h3>
<section id="particlediagnostic">
<h4>ParticleDiagnostic<a class="headerlink" href="#particlediagnostic" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.ParticleDiagnostic">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">ParticleDiagnostic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">period</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">species</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallelio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#ParticleDiagnostic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.ParticleDiagnostic" title="Link to this definition"></a></dt>
<dd><p>Defines the particle diagnostics in the simulation frame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>period</strong> (<em>integer</em>) – Period of time steps that the diagnostic is performed</p></li>
<li><p><strong>species</strong> (<em>species instance</em><em> or </em><em>list</em><em> of </em><em>species instances</em>) – Species to write out.
Note that the name attribute must be defined for the species.</p></li>
<li><p><strong>data_list</strong> (<em>list</em><em> of </em><em>strings</em><em>, </em><em>optional</em>) – The data to be written out. Possible values ‘position’, ‘momentum’, ‘weighting’.
Defaults to the output list of the implementing code.</p></li>
<li><p><strong>write_dir</strong> (<em>string</em><em>, </em><em>optional</em>) – Directory where data is to be written</p></li>
<li><p><strong>step_min</strong> (<em>integer</em><em>, </em><em>default=0</em>) – Minimum step at which diagnostics could be written</p></li>
<li><p><strong>step_max</strong> (<em>integer</em><em>, </em><em>default=unbounded</em>) – Maximum step at which diagnostics could be written</p></li>
<li><p><strong>parallelio</strong> (<em>bool</em><em>, </em><em>optional</em>) – If set to True, particle diagnostics are dumped in parallel</p></li>
<li><p><strong>name</strong> (<em>string</em><em>, </em><em>optional</em>) – Sets the base name for the diagnostic output files</p></li>
</ul>
</dd>
</dl>
<p>Implementation specific documentation</p>
<p>See <a class="reference external" href="https://warpx.readthedocs.io/en/latest/usage/parameters.html">Input Parameters</a> for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>warpx_format</strong> (<em>{plotfile</em><em>, </em><em>checkpoint</em><em>, </em><em>openpmd</em><em>, </em><em>ascent</em><em>, </em><em>sensei}</em><em>, </em><em>optional</em>) – Diagnostic file format</p></li>
<li><p><strong>warpx_openpmd_backend</strong> (<em>{bp</em><em>, </em><em>h5</em><em>, </em><em>json}</em><em>, </em><em>optional</em>) – Openpmd backend file format</p></li>
<li><p><strong>warpx_file_prefix</strong> (<em>string</em><em>, </em><em>optional</em>) – Prefix on the diagnostic file name</p></li>
<li><p><strong>warpx_file_min_digits</strong> (<em>integer</em><em>, </em><em>optional</em>) – Minimum number of digits for the time step number in the file name</p></li>
<li><p><strong>warpx_random_fraction</strong> (<em>float</em><em>, </em><em>optional</em>) – Random fraction of particles to include in the diagnostic</p></li>
<li><p><strong>warpx_uniform_stride</strong> (<em>integer</em><em>, </em><em>optional</em>) – Stride to down select to the particles to include in the diagnostic</p></li>
<li><p><strong>warpx_plot_filter_function</strong> (<em>string</em><em>, </em><em>optional</em>) – Analytic expression to down select the particles to in the diagnostic</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="fielddiagnostic">
<h4>FieldDiagnostic<a class="headerlink" href="#fielddiagnostic" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.FieldDiagnostic">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">FieldDiagnostic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_cells</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallelio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#FieldDiagnostic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.FieldDiagnostic" title="Link to this definition"></a></dt>
<dd><p>Defines the electromagnetic field diagnostics in the simulation frame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> (<em>grid instance</em>) – Grid object for the diagnostic</p></li>
<li><p><strong>period</strong> (<em>integer</em>) – Period of time steps that the diagnostic is performed</p></li>
<li><p><strong>data_list</strong> (<em>list</em><em> of </em><em>strings</em><em>, </em><em>optional</em>) – List of quantities to write out. Possible values ‘rho’, ‘E’, ‘B’, ‘J’, ‘Ex’ etc.
Defaults to the output list of the implementing code.</p></li>
<li><p><strong>write_dir</strong> (<em>string</em><em>, </em><em>optional</em>) – Directory where data is to be written</p></li>
<li><p><strong>step_min</strong> (<em>integer</em><em>, </em><em>default=0</em>) – Minimum step at which diagnostics could be written</p></li>
<li><p><strong>step_max</strong> (<em>integer</em><em>, </em><em>default=unbounded</em>) – Maximum step at which diagnostics could be written</p></li>
<li><p><strong>number_of_cells</strong> (<em>vector</em><em> of </em><em>integers</em><em>, </em><em>optional</em>) – Number of cells in each dimension.
If not given, will be obtained from grid.</p></li>
<li><p><strong>lower_bound</strong> (<em>vector</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Lower corner of diagnostics box in each direction.
If not given, will be obtained from grid.</p></li>
<li><p><strong>upper_bound</strong> (<em>vector</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Higher corner of diagnostics box in each direction.
If not given, will be obtained from grid.</p></li>
<li><p><strong>parallelio</strong> (<em>bool</em><em>, </em><em>optional</em>) – If set to True, field diagnostics are dumped in parallel</p></li>
<li><p><strong>name</strong> (<em>string</em><em>, </em><em>optional</em>) – Sets the base name for the diagnostic output files</p></li>
</ul>
</dd>
</dl>
<p>Implementation specific documentation</p>
<p>See <a class="reference external" href="https://warpx.readthedocs.io/en/latest/usage/parameters.html">Input Parameters</a> for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>warpx_plot_raw_fields</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag whether to dump the raw fields</p></li>
<li><p><strong>warpx_plot_raw_fields_guards</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag whether the raw fields should include the guard cells</p></li>
<li><p><strong>warpx_write_species</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag whether to output particle data with the diagnostic</p></li>
<li><p><strong>warpx_format</strong> (<em>{plotfile</em><em>, </em><em>checkpoint</em><em>, </em><em>openpmd</em><em>, </em><em>ascent</em><em>, </em><em>sensei}</em><em>, </em><em>optional</em>) – Diagnostic file format</p></li>
<li><p><strong>warpx_openpmd_backend</strong> (<em>{bp</em><em>, </em><em>h5</em><em>, </em><em>json}</em><em>, </em><em>optional</em>) – Openpmd backend file format</p></li>
<li><p><strong>warpx_file_prefix</strong> (<em>string</em><em>, </em><em>optional</em>) – Prefix on the diagnostic file name</p></li>
<li><p><strong>warpx_file_min_digits</strong> (<em>integer</em><em>, </em><em>optional</em>) – Minimum number of digits for the time step number in the file name</p></li>
<li><p><strong>warpx_dump_rz_modes</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flag whether to dump the data for all RZ modes</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="electrostaticfielddiagnostic">
<h4>ElectrostaticFieldDiagnostic<a class="headerlink" href="#electrostaticfielddiagnostic" title="Link to this heading"></a></h4>
<dl class="py attribute">
<dt class="sig sig-object py" id="pywarpx.picmi.ElectrostaticFieldDiagnostic">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">ElectrostaticFieldDiagnostic</span></span><a class="headerlink" href="#pywarpx.picmi.ElectrostaticFieldDiagnostic" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#pywarpx.picmi.FieldDiagnostic" title="pywarpx.picmi.FieldDiagnostic"><code class="xref py py-class docutils literal notranslate"><span class="pre">FieldDiagnostic</span></code></a></p>
</dd></dl>

<p>Lab-frame diagnostics diagnostics are used when running boosted-frame simulations.</p>
</section>
<section id="labframefielddiagnostic">
<h4>LabFrameFieldDiagnostic<a class="headerlink" href="#labframefielddiagnostic" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.LabFrameFieldDiagnostic">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">LabFrameFieldDiagnostic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_snapshots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt_snapshots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_subsampling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallelio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#LabFrameFieldDiagnostic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.LabFrameFieldDiagnostic" title="Link to this definition"></a></dt>
<dd><p>Defines the electromagnetic field diagnostics in the lab frame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> (<em>grid instance</em>) – Grid object for the diagnostic</p></li>
<li><p><strong>num_snapshots</strong> (<em>integer</em>) – Number of lab frame snapshots to make</p></li>
<li><p><strong>dt_snapshots</strong> (<em>float</em>) – Time between each snapshot in lab frame</p></li>
<li><p><strong>data_list</strong> (<em>list</em><em> of </em><em>strings</em><em>, </em><em>optional</em>) – List of quantities to write out. Possible values ‘rho’, ‘E’, ‘B’, ‘J’, ‘Ex’ etc.
Defaults to the output list of the implementing code.</p></li>
<li><p><strong>z_subsampling</strong> (<em>integer</em><em>, </em><em>default=1</em>) – A factor which is applied on the resolution of the lab frame reconstruction</p></li>
<li><p><strong>time_start</strong> (<em>float</em><em>, </em><em>default=0</em>) – Time for the first snapshot in lab frame</p></li>
<li><p><strong>write_dir</strong> (<em>string</em><em>, </em><em>optional</em>) – Directory where data is to be written</p></li>
<li><p><strong>parallelio</strong> (<em>bool</em><em>, </em><em>optional</em>) – If set to True, field diagnostics are dumped in parallel</p></li>
<li><p><strong>name</strong> (<em>string</em><em>, </em><em>optional</em>) – Sets the base name for the diagnostic output files</p></li>
</ul>
</dd>
</dl>
<p>Implementation specific documentation</p>
<p>See <a class="reference external" href="https://warpx.readthedocs.io/en/latest/usage/parameters.html">Input Parameters</a> for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>warpx_format</strong> (<em>string</em><em>, </em><em>optional</em>) – Passed to &lt;diagnostic name&gt;.format</p></li>
<li><p><strong>warpx_openpmd_backend</strong> (<em>string</em><em>, </em><em>optional</em>) – Passed to &lt;diagnostic name&gt;.openpmd_backend</p></li>
<li><p><strong>warpx_file_prefix</strong> (<em>string</em><em>, </em><em>optional</em>) – Passed to &lt;diagnostic name&gt;.file_prefix</p></li>
<li><p><strong>warpx_file_min_digits</strong> (<em>integer</em><em>, </em><em>optional</em>) – Passed to &lt;diagnostic name&gt;.file_min_digits</p></li>
<li><p><strong>warpx_buffer_size</strong> (<em>integer</em><em>, </em><em>optional</em>) – Passed to &lt;diagnostic name&gt;.buffer_size</p></li>
<li><p><strong>warpx_lower_bound</strong> (<em>vector</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Passed to &lt;diagnostic name&gt;.lower_bound</p></li>
<li><p><strong>warpx_upper_bound</strong> (<em>vector</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Passed to &lt;diagnostic name&gt;.upper_bound</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="checkpoint">
<h4>Checkpoint<a class="headerlink" href="#checkpoint" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.Checkpoint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">Checkpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#Checkpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.Checkpoint" title="Link to this definition"></a></dt>
<dd><p>Sets up checkpointing of the simulation, allowing for later restarts</p>
<p>See <a class="reference external" href="https://warpx.readthedocs.io/en/latest/usage/parameters.html">Input Parameters</a> for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>warpx_file_prefix</strong> (<em>string</em>) – The prefix to the checkpoint directory names</p></li>
<li><p><strong>warpx_file_min_digits</strong> (<em>integer</em>) – Minimum number of digits for the time step number in the checkpoint
directory name.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>
<section id="particles">
<h3>Particles<a class="headerlink" href="#particles" title="Link to this heading"></a></h3>
<p>Species objects are a collection of particles with similar properties.
For instance, background plasma electrons, background plasma ions and an externally injected beam could each be their own particle species.</p>
<section id="species">
<h4>Species<a class="headerlink" href="#species" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.Species">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">Species</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particle_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charge_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_distribution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">particle_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">density_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#Species"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.Species" title="Link to this definition"></a></dt>
<dd><p>Sets up the species to be simulated.
The species charge and mass can be specified by setting the particle type or by setting them directly.
If the particle type is specified, the charge or mass can be set to override the value from the type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>particle_type</strong> (<em>string</em><em>, </em><em>optional</em>) – A string specifying an elementary particle, atom, or other, as defined in
the openPMD 2 species type extension, openPMD-standard/EXT_SpeciesType.md</p></li>
<li><p><strong>name</strong> (<em>string</em><em>, </em><em>optional</em>) – Name of the species</p></li>
<li><p><strong>method</strong> (<em>{'Boris'</em><em>, </em><em>'Vay'</em><em>, </em><em>'Higuera-Cary'</em><em>, </em><em>'Li'</em><em> , </em><em>'free-streaming'</em><em>, </em><em>'LLRK4'}</em>) – <p>The particle advance method to use. Code-specific method can be specified using ‘other:&lt;method&gt;’. The default is code
dependent.</p>
<ul>
<li><p>’Boris’: Standard “leap-frog” Boris advance</p></li>
<li><p>’Vay’:</p></li>
<li><p>’Higuera-Cary’:</p></li>
<li><p>’Li’ :</p></li>
<li><p>’free-streaming’: Advance with no fields</p></li>
<li><p>’LLRK4’: Landau-Lifschitz radiation reaction formula with RK-4)</p></li>
</ul>
</p></li>
<li><p><strong>charge_state</strong> (<em>float</em><em>, </em><em>optional</em>) – Charge state of the species (applies only to atoms) [1]</p></li>
<li><p><strong>charge</strong> (<em>float</em><em>, </em><em>optional</em>) – Particle charge, required when type is not specified, otherwise determined from type [C]</p></li>
<li><p><strong>mass</strong> (<em>float</em><em>, </em><em>optional</em>) – Particle mass, required when type is not specified, otherwise determined from type [kg]</p></li>
<li><p><strong>initial_distribution</strong> (<em>distribution instance</em>) – The initial distribution loaded at t=0. Must be one of the standard distributions implemented.</p></li>
<li><p><strong>density_scale</strong> (<em>float</em><em>, </em><em>optional</em>) – A scale factor on the density given by the initial_distribution</p></li>
<li><p><strong>particle_shape</strong> (<em>{'NGP'</em><em>, </em><em>'linear'</em><em>, </em><em>'quadratic'</em><em>, </em><em>'cubic'}</em>) – Particle shape used for deposition and gather.
If not specified, the value from the <cite>Simulation</cite> object will be used.
Other values maybe specified that are code dependent.</p></li>
</ul>
</dd>
</dl>
<p>Implementation specific documentation</p>
<p>See <a class="reference external" href="https://warpx.readthedocs.io/en/latest/usage/parameters.html">Input Parameters</a> for more information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>warpx_boost_adjust_transverse_positions</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Whether to adjust transverse positions when apply the boost
to the simulation frame</p></li>
<li><p><strong>warpx_self_fields_required_precision</strong> (<em>float</em><em>, </em><em>default=1.e-11</em>) – Relative precision on the electrostatic solver
(when using the relativistic solver)</p></li>
<li><p><strong>warpx_self_fields_absolute_tolerance</strong> (<em>float</em><em>, </em><em>default=0.</em>) – Absolute precision on the electrostatic solver
(when using the relativistic solver)</p></li>
<li><p><strong>warpx_self_fields_max_iters</strong> (<em>integer</em><em>, </em><em>default=200</em>) – Maximum number of iterations for the electrostatic
solver for the species</p></li>
<li><p><strong>warpx_self_fields_verbosity</strong> (<em>integer</em><em>, </em><em>default=2</em>) – Level of verbosity for the electrostatic solver</p></li>
<li><p><strong>warpx_save_previous_position</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Whether to save the old particle positions</p></li>
<li><p><strong>warpx_do_not_deposit</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Whether or not to deposit the charge and current density for
for this species</p></li>
<li><p><strong>warpx_do_not_push</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Whether or not to push this species</p></li>
<li><p><strong>warpx_do_not_gather</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Whether or not to gahter the fields from grids for this species</p></li>
<li><p><strong>warpx_random_theta</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Whether or not to add random angle to the particles in theta
when in RZ mode.</p></li>
<li><p><strong>warpx_reflection_model_xlo</strong> (<em>string</em><em>, </em><em>default='0.'</em>) – Expression (in terms of the velocity “v”) specifying the probability
that the particle will reflect on the lower x boundary</p></li>
<li><p><strong>warpx_reflection_model_xhi</strong> (<em>string</em><em>, </em><em>default='0.'</em>) – Expression (in terms of the velocity “v”) specifying the probability
that the particle will reflect on the upper x boundary</p></li>
<li><p><strong>warpx_reflection_model_ylo</strong> (<em>string</em><em>, </em><em>default='0.'</em>) – Expression (in terms of the velocity “v”) specifying the probability
that the particle will reflect on the lower y boundary</p></li>
<li><p><strong>warpx_reflection_model_yhi</strong> (<em>string</em><em>, </em><em>default='0.'</em>) – Expression (in terms of the velocity “v”) specifying the probability
that the particle will reflect on the upper y boundary</p></li>
<li><p><strong>warpx_reflection_model_zlo</strong> (<em>string</em><em>, </em><em>default='0.'</em>) – Expression (in terms of the velocity “v”) specifying the probability
that the particle will reflect on the lower z boundary</p></li>
<li><p><strong>warpx_reflection_model_zhi</strong> (<em>string</em><em>, </em><em>default='0.'</em>) – Expression (in terms of the velocity “v”) specifying the probability
that the particle will reflect on the upper z boundary</p></li>
<li><p><strong>warpx_save_particles_at_xlo</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Whether to save particles lost at the lower x boundary</p></li>
<li><p><strong>warpx_save_particles_at_xhi</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Whether to save particles lost at the upper x boundary</p></li>
<li><p><strong>warpx_save_particles_at_ylo</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Whether to save particles lost at the lower y boundary</p></li>
<li><p><strong>warpx_save_particles_at_yhi</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Whether to save particles lost at the upper y boundary</p></li>
<li><p><strong>warpx_save_particles_at_zlo</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Whether to save particles lost at the lower z boundary</p></li>
<li><p><strong>warpx_save_particles_at_zhi</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Whether to save particles lost at the upper z boundary</p></li>
<li><p><strong>warpx_save_particles_at_eb</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Whether to save particles lost at the embedded boundary</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="multispecies">
<h4>MultiSpecies<a class="headerlink" href="#multispecies" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.MultiSpecies">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">MultiSpecies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">particle_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charge_states</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">masses</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proportions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_distribution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">particle_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#MultiSpecies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.MultiSpecies" title="Link to this definition"></a></dt>
<dd><p>INCOMPLETE: proportions argument is not implemented
Multiple species that are initialized with the same distribution.
Each parameter can be list, giving a value for each species, or a single value which is given to all species.
The species charge and mass can be specified by setting the particle type or by setting them directly.
If the particle type is specified, the charge or mass can be set to override the value from the type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>particle_types</strong> (<em>list</em><em> of </em><em>strings</em><em>, </em><em>optional</em>) – A string specifying an elementary particle, atom, or other, as defined in
the openPMD 2 species type extension, openPMD-standard/EXT_SpeciesType.md</p></li>
<li><p><strong>names</strong> (<em>list</em><em> of </em><em>strings</em><em>, </em><em>optional</em>) – Names of the species</p></li>
<li><p><strong>charge_states</strong> (<em>list</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Charge states of the species (applies only to atoms)</p></li>
<li><p><strong>charges</strong> (<em>list</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Particle charges, required when type is not specified, otherwise determined from type [C]</p></li>
<li><p><strong>masses</strong> (<em>list</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Particle masses, required when type is not specified, otherwise determined from type [kg]</p></li>
<li><p><strong>proportions</strong> (<em>list</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Proportions of the initial distribution made up by each species</p></li>
<li><p><strong>initial_distribution</strong> (<em>distribution instance</em>) – Initial particle distribution, applied to all species</p></li>
<li><p><strong>particle_shape</strong> (<em>{'NGP'</em><em>, </em><em>'linear'</em><em>, </em><em>'quadratic'</em><em>, </em><em>'cubic'}</em>) – Particle shape used for deposition and gather.
If not specified, the value from the <cite>Simulation</cite> object will be used.
Other values maybe specified that are code dependent.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>Particle distributions can be used for to initialize particles in a particle species.</p>
</section>
<section id="gaussianbunchdistribution">
<h4>GaussianBunchDistribution<a class="headerlink" href="#gaussianbunchdistribution" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.GaussianBunchDistribution">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">GaussianBunchDistribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_physical_particles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rms_bunch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rms_velocity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centroid_position</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centroid_velocity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">velocity_divergence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0]</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#GaussianBunchDistribution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.GaussianBunchDistribution" title="Link to this definition"></a></dt>
<dd><p>Describes a Gaussian distribution of particles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_physical_particles</strong> (<em>integer</em>) – Number of physical particles in the bunch</p></li>
<li><p><strong>rms_bunch_size</strong> (<em>vector</em><em> of </em><em>length 3</em><em> of </em><em>floats</em>) – RMS bunch size at t=0 [m]</p></li>
<li><p><strong>rms_velocity</strong> (<em>vector</em><em> of </em><em>length 3</em><em> of </em><em>floats</em><em>, </em><em>default=</em><em>[</em><em>0.</em><em>,</em><em>0.</em><em>,</em><em>0.</em><em>]</em>) – RMS velocity spread at t=0 [m/s]</p></li>
<li><p><strong>centroid_position</strong> (<em>vector</em><em> of </em><em>length 3</em><em> of </em><em>floats</em><em>, </em><em>default=</em><em>[</em><em>0.</em><em>,</em><em>0.</em><em>,</em><em>0.</em><em>]</em>) – Position of the bunch centroid at t=0 [m]</p></li>
<li><p><strong>centroid_velocity</strong> (<em>vector</em><em> of </em><em>length 3</em><em> of </em><em>floats</em><em>, </em><em>default=</em><em>[</em><em>0.</em><em>,</em><em>0.</em><em>,</em><em>0.</em><em>]</em>) – Velocity (gamma*V) of the bunch centroid at t=0 [m/s]</p></li>
<li><p><strong>velocity_divergence</strong> (<em>vector</em><em> of </em><em>length 3</em><em> of </em><em>floats</em><em>, </em><em>default=</em><em>[</em><em>0.</em><em>,</em><em>0.</em><em>,</em><em>0.</em><em>]</em>) – Expansion rate of the bunch at t=0 [m/s/m]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="uniformdistribution">
<h4>UniformDistribution<a class="headerlink" href="#uniformdistribution" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.UniformDistribution">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">UniformDistribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">density</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[None,</span> <span class="pre">None,</span> <span class="pre">None]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[None,</span> <span class="pre">None,</span> <span class="pre">None]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rms_velocity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directed_velocity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_in</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#UniformDistribution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.UniformDistribution" title="Link to this definition"></a></dt>
<dd><p>Describes a uniform density distribution of particles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>density</strong> (<em>float</em>) – Physical number density [m^-3]</p></li>
<li><p><strong>lower_bound</strong> (<em>vector</em><em> of </em><em>length 3</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Lower bound of the distribution [m]</p></li>
<li><p><strong>upper_bound</strong> (<em>vector</em><em> of </em><em>length 3</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Upper bound of the distribution [m]</p></li>
<li><p><strong>rms_velocity</strong> (<em>vector</em><em> of </em><em>length 3</em><em> of </em><em>floats</em><em>, </em><em>default=</em><em>[</em><em>0.</em><em>,</em><em>0.</em><em>,</em><em>0.</em><em>]</em>) – Thermal velocity spread [m/s]</p></li>
<li><p><strong>directed_velocity</strong> (<em>vector</em><em> of </em><em>length 3</em><em> of </em><em>floats</em><em>, </em><em>default=</em><em>[</em><em>0.</em><em>,</em><em>0.</em><em>,</em><em>0.</em><em>]</em>) – Directed, average, velocity [m/s]</p></li>
<li><p><strong>fill_in</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flags whether to fill in the empty spaced opened up when the grid moves</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="analyticdistribution">
<h4>AnalyticDistribution<a class="headerlink" href="#analyticdistribution" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.AnalyticDistribution">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">AnalyticDistribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">density_expression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">momentum_expressions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[None,</span> <span class="pre">None,</span> <span class="pre">None]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[None,</span> <span class="pre">None,</span> <span class="pre">None]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[None,</span> <span class="pre">None,</span> <span class="pre">None]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rms_velocity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directed_velocity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_in</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#AnalyticDistribution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.AnalyticDistribution" title="Link to this definition"></a></dt>
<dd><p>Describes a uniform density plasma</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>density_expression</strong> (<em>string</em>) – Analytic expression describing physical number density (string) [m^-3].
Expression should be in terms of the position, written as ‘x’, ‘y’, and ‘z’.
Parameters can be used in the expression with the values given as keyword arguments.</p></li>
<li><p><strong>momentum_expressions</strong> (<em>list</em><em> of </em><em>strings</em>) – Analytic expressions describing the gamma*velocity for each axis [m/s].
Expressions should be in terms of the position, written as ‘x’, ‘y’, and ‘z’.
Parameters can be used in the expression with the values given as keyword arguments.
For any axis not supplied (set to None), directed_velocity will be used.</p></li>
<li><p><strong>lower_bound</strong> (<em>vector</em><em> of </em><em>length 3</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Lower bound of the distribution [m]</p></li>
<li><p><strong>upper_bound</strong> (<em>vector</em><em> of </em><em>length 3</em><em> of </em><em>floats</em><em>, </em><em>optional</em>) – Upper bound of the distribution [m]</p></li>
<li><p><strong>rms_velocity</strong> (<em>vector</em><em> of </em><em>length 3</em><em> of </em><em>floats</em><em>, </em><em>detault=</em><em>[</em><em>0.</em><em>,</em><em>0.</em><em>,</em><em>0.</em><em>]</em>) – Thermal velocity spread [m/s]</p></li>
<li><p><strong>directed_velocity</strong> (<em>vector</em><em> of </em><em>length 3</em><em> of </em><em>floats</em><em>, </em><em>detault=</em><em>[</em><em>0.</em><em>,</em><em>0.</em><em>,</em><em>0.</em><em>]</em>) – Directed, average, velocity [m/s]</p></li>
<li><p><strong>fill_in</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flags whether to fill in the empty spaced opened up when the grid moves</p></li>
</ul>
</dd>
</dl>
<p>This example will create a distribution where the density is n0 below rmax and zero elsewhere.:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="p">..</span><span class="w"> </span><span class="n">code</span><span class="o">-</span><span class="n">block</span><span class="o">:</span><span class="w"> </span><span class="n">python</span>
</pre></div>
</div>
<blockquote>
<div><dl class="simple">
<dt>dist = AnalyticDistribution(density_expression=’((x**2+y**2)&lt;rmax**2)*n0’,</dt><dd><p>rmax = 1.,
n0 = 1.e20,
…)</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</section>
<section id="particlelistdistribution">
<h4>ParticleListDistribution<a class="headerlink" href="#particlelistdistribution" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.ParticleListDistribution">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">ParticleListDistribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ux</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#ParticleListDistribution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.ParticleListDistribution" title="Link to this definition"></a></dt>
<dd><p>Load particles at the specified positions and velocities</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em><em>, </em><em>default=0.</em>) – List of x positions of the particles [m]</p></li>
<li><p><strong>y</strong> (<em>float</em><em>, </em><em>default=0.</em>) – List of y positions of the particles [m]</p></li>
<li><p><strong>z</strong> (<em>float</em><em>, </em><em>default=0.</em>) – List of z positions of the particles [m]</p></li>
<li><p><strong>ux</strong> (<em>float</em><em>, </em><em>default=0.</em>) – List of ux positions of the particles (ux = gamma*vx) [m/s]</p></li>
<li><p><strong>uy</strong> (<em>float</em><em>, </em><em>default=0.</em>) – List of uy positions of the particles (uy = gamma*vy) [m/s]</p></li>
<li><p><strong>uz</strong> (<em>float</em><em>, </em><em>default=0.</em>) – List of uz positions of the particles (uz = gamma*vz) [m/s]</p></li>
<li><p><strong>weight</strong> (<em>float</em>) – Particle weight or list of weights, number of real particles per simulation particle</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>Particle layouts determine how to microscopically place macro particles in a grid cell.</p>
</section>
<section id="griddedlayout">
<h4>GriddedLayout<a class="headerlink" href="#griddedlayout" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.GriddedLayout">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">GriddedLayout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_macroparticle_per_cell</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#GriddedLayout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.GriddedLayout" title="Link to this definition"></a></dt>
<dd><p>Specifies a gridded layout of particles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_macroparticle_per_cell</strong> (<em>vector</em><em> of </em><em>integers</em>) – Number of particles per cell along each axis</p></li>
<li><p><strong>grid</strong> (<em>grid instance</em><em>, </em><em>optional</em>) – Grid object specifying the grid to follow.
If not specified, the underlying grid of the code is used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="pseudorandomlayout">
<h4>PseudoRandomLayout<a class="headerlink" href="#pseudorandomlayout" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.PseudoRandomLayout">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">PseudoRandomLayout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_macroparticles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_macroparticles_per_cell</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#PseudoRandomLayout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.PseudoRandomLayout" title="Link to this definition"></a></dt>
<dd><p>Specifies a pseudo-random layout of the particles</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_macroparticles</strong> (<em>integer</em>) – Total number of macroparticles to load.
Either this argument or n_macroparticles_per_cell should be supplied.</p></li>
<li><p><strong>n_macroparticles_per_cell</strong> (<em>integer</em>) – Number of macroparticles to load per cell.
Either this argument or n_macroparticles should be supplied.</p></li>
<li><p><strong>seed</strong> (<em>integer</em><em>, </em><em>optional</em>) – Pseudo-random number generator seed</p></li>
<li><p><strong>grid</strong> (<em>grid instance</em><em>, </em><em>optional</em>) – Grid object specifying the grid to follow for n_macroparticles_per_cell.
If not specified, the underlying grid of the code is used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>Other operations related to particles</p>
</section>
<section id="coulombcollisions">
<h4>CoulombCollisions<a class="headerlink" href="#coulombcollisions" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.CoulombCollisions">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">CoulombCollisions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">species</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">CoulombLog</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ndt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#CoulombCollisions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.CoulombCollisions" title="Link to this definition"></a></dt>
<dd><p>Custom class to handle setup of binary Coulmb collisions in WarpX. If
collision initialization is added to picmistandard this can be changed to
inherit that functionality.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>string</em>) – Name of instance (used in the inputs file)</p></li>
<li><p><strong>species</strong> (<em>list</em><em> of </em><em>species instances</em>) – The species involved in the collision. Must be of length 2.</p></li>
<li><p><strong>CoulombLog</strong> (<em>float</em><em>, </em><em>optional</em>) – Value of the Coulomb log to use in the collision cross section.
If not supplied, it is calculated from the local conditions.</p></li>
<li><p><strong>ndt</strong> (<em>integer</em><em>, </em><em>optional</em>) – The collisions will be applied every “ndt” steps. Must be 1 or larger.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="mcccollisions">
<h4>MCCCollisions<a class="headerlink" href="#mcccollisions" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.MCCCollisions">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">MCCCollisions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">species</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background_density</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background_temperature</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scattering_processes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background_mass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ndt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#MCCCollisions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.MCCCollisions" title="Link to this definition"></a></dt>
<dd><p>Custom class to handle setup of MCC collisions in WarpX. If collision
initialization is added to picmistandard this can be changed to inherit
that functionality.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>string</em>) – Name of instance (used in the inputs file)</p></li>
<li><p><strong>species</strong> (<em>species instance</em>) – The species involved in the collision</p></li>
<li><p><strong>background_density</strong> (<em>float</em>) – The density of the background</p></li>
<li><p><strong>background_temperature</strong> (<em>float</em>) – The temperature of the background</p></li>
<li><p><strong>scattering_processes</strong> (<em>dictionary</em>) – The scattering process to use and any needed information</p></li>
<li><p><strong>background_mass</strong> (<em>float</em><em>, </em><em>optional</em>) – The mass of the background particle. If not supplied, the default depends
on the type of scattering process.</p></li>
<li><p><strong>ndt</strong> (<em>integer</em><em>, </em><em>optional</em>) – The collisions will be applied every “ndt” steps. Must be 1 or larger.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>
<section id="lasers">
<h3>Lasers<a class="headerlink" href="#lasers" title="Link to this heading"></a></h3>
<p>Laser profiles can be used to initialize laser pulses in the simulation.</p>
<section id="gaussianlaser">
<h4>GaussianLaser<a class="headerlink" href="#gaussianlaser" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.GaussianLaser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">GaussianLaser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wavelength</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">waist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propagation_direction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polarization_direction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">focal_position</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centroid_position</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">E0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zeta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_in</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#GaussianLaser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.GaussianLaser" title="Link to this definition"></a></dt>
<dd><p>Specifies a Gaussian laser distribution.</p>
<p>More precisely, the electric field <strong>near the focal plane</strong> is given by:</p>
<div class="math notranslate nohighlight">
\[E(\boldsymbol{x},t) = a_0\times E_0\,
\exp\left( -\frac{r^2}{w_0^2} - \frac{(z-z_0-ct)^2}{c^2\tau^2} \right)
\cos[ k_0( z - z_0 - ct ) - \phi_{cep} ]\]</div>
<p>where <span class="math notranslate nohighlight">\(k_0 = 2\pi/\lambda_0\)</span> is the wavevector and where
<span class="math notranslate nohighlight">\(E_0 = m_e c^2 k_0 / q_e\)</span> is the field amplitude for <span class="math notranslate nohighlight">\(a_0=1\)</span>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The additional terms that arise <strong>far from the focal plane</strong>
(Gouy phase, wavefront curvature, …) are not included in the above
formula for simplicity, but are of course taken into account by
the code, when initializing the laser pulse away from the focal plane.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wavelength</strong> (<em>float</em>) – Laser wavelength [m], defined as <span class="math notranslate nohighlight">\(\lambda_0\)</span> in the above formula</p></li>
<li><p><strong>waist</strong> (<em>float</em>) – Waist of the Gaussian pulse at focus [m], defined as <span class="math notranslate nohighlight">\(w_0\)</span> in the above formula</p></li>
<li><p><strong>duration</strong> (<em>float</em>) – Duration of the Gaussian pulse [s], defined as <span class="math notranslate nohighlight">\(\tau\)</span> in the above formula</p></li>
<li><p><strong>propagation_direction</strong> (<em>unit vector</em><em> of </em><em>length 3</em><em> of </em><em>floats</em>) – Direction of propagation [1]</p></li>
<li><p><strong>polarization_direction</strong> (<em>unit vector</em><em> of </em><em>length 3</em><em> of </em><em>floats</em>) – Direction of polarization [1]</p></li>
<li><p><strong>focal_position</strong> (<em>vector</em><em> of </em><em>length 3</em><em> of </em><em>floats</em>) – Position of the laser focus [m]</p></li>
<li><p><strong>centroid_position</strong> (<em>vector</em><em> of </em><em>length 3</em><em> of </em><em>floats</em>) – Position of the laser centroid at time 0 [m]</p></li>
<li><p><strong>a0</strong> (<em>float</em>) – Normalized vector potential at focus
Specify either a0 or E0 (E0 takes precedence).</p></li>
<li><p><strong>E0</strong> (<em>float</em>) – Maximum amplitude of the laser field [V/m]
Specify either a0 or E0 (E0 takes precedence).</p></li>
<li><p><strong>phi0</strong> (<em>float</em>) – Carrier envelope phase (CEP) [rad]</p></li>
<li><p><strong>zeta</strong> (<em>float</em>) – Spatial chirp at focus (in the lab frame) [m.s]</p></li>
<li><p><strong>beta</strong> (<em>float</em>) – Angular dispersion at focus (in the lab frame) [rad.s]</p></li>
<li><p><strong>phi2</strong> (<em>float</em>) – Temporal chirp at focus (in the lab frame) [s^2]</p></li>
<li><p><strong>fill_in</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Flags whether to fill in the empty spaced opened up when the grid moves</p></li>
<li><p><strong>name</strong> (<em>string</em><em>, </em><em>optional</em>) – Optional name of the laser</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="analyticlaser">
<h4>AnalyticLaser<a class="headerlink" href="#analyticlaser" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.AnalyticLaser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">AnalyticLaser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field_expression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wavelength</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propagation_direction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polarization_direction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Emax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_in</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#AnalyticLaser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.AnalyticLaser" title="Link to this definition"></a></dt>
<dd><p>Specifies a laser with an analytically described distribution</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name=None</strong> (<em>string</em><em>, </em><em>optional</em>) – Optional name of the laser</p></li>
<li><p><strong>field_expression</strong> (<em>string</em>) – Analytic expression describing the electric field of the laser [V/m]
Expression should be in terms of the position, ‘X’, ‘Y’, in the plane orthogonal
to the propagation direction, and ‘t’ the time. The expression should describe
the full field, including the oscillitory component.
Parameters can be used in the expression with the values given as keyword arguments.</p></li>
<li><p><strong>wavelength</strong> (<em>float</em>) – Laser wavelength.
This should be built into the expression, but some codes require a specified value for numerical purposes.</p></li>
<li><p><strong>propagation_direction</strong> (<em>unit vector</em><em> of </em><em>length 3</em><em> of </em><em>floats</em>) – Direction of propagation [1]</p></li>
<li><p><strong>polarization_direction</strong> (<em>unit vector</em><em> of </em><em>length 3</em><em> of </em><em>floats</em>) – Direction of polarization [1]</p></li>
<li><p><strong>amax</strong> (<em>float</em><em>, </em><em>optional</em>) – Maximum normalized vector potential.
Specify either amax or Emax (Emax takes precedence).
This should be built into the expression, but some codes require a specified value for numerical purposes.</p></li>
<li><p><strong>Emax</strong> (<em>float</em><em>, </em><em>optional</em>) – Maximum amplitude of the laser field [V/m].
Specify either amax or Emax (Emax takes precedence).
This should be built into the expression, but some codes require a specified value for numerical purposes.</p></li>
<li><p><strong>fill_in</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Flags whether to fill in the empty spaced opened up when the grid moves</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>Laser injectors control where to initialize laser pulses on the simulation grid.</p>
</section>
<section id="laserantenna">
<h4>LaserAntenna<a class="headerlink" href="#laserantenna" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.picmi.LaserAntenna">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.</span></span><span class="sig-name descname"><span class="pre">LaserAntenna</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">position</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normal_vector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/picmi.html#LaserAntenna"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.picmi.LaserAntenna" title="Link to this definition"></a></dt>
<dd><p>Specifies the laser antenna injection method</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>position</strong> (<em>vector</em><em> of </em><em>strings</em>) – Position of antenna launching the laser [m]</p></li>
<li><p><strong>normal_vector</strong> (<em>vector</em><em> of </em><em>strings</em><em>, </em><em>optional</em>) – Vector normal to antenna plane, defaults to the laser direction
of propagation [1]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>
</section>
<section id="running">
<span id="usage-picmi-run"></span><h2>Running<a class="headerlink" href="#running" title="Link to this heading"></a></h2>
<p>WarpX can be run in one of two modes. It can run as a preprocessor, using the
Python input file to generate an input file to be used by the C++ version, or
it can be run directly from Python.
The examples support running in both modes by commenting and uncommenting the appropriate lines.</p>
<p>In either mode, if using a <a class="reference external" href="https://docs.python.org/3/tutorial/venv.html">virtual environment</a>, be sure to activate it before compiling and running WarpX.</p>
<section id="running-warpx-directly-from-python">
<h3>Running WarpX directly from Python<a class="headerlink" href="#running-warpx-directly-from-python" title="Link to this heading"></a></h3>
<p>For this, a full Python installation of WarpX is required, as described in <a class="reference internal" href="../install/users.html#install-users"><span class="std std-ref">the install documentation</span></a> (<a class="reference internal" href="../install/cmake.html#install-developers"><span class="std std-ref">developers</span></a>).</p>
<p>In order to run a new simulation:</p>
<ul class="simple">
<li><p>Create a <strong>new directory</strong>, where the simulation will be run.</p></li>
<li><p>Add a <strong>Python script</strong> in the directory.</p></li>
</ul>
<p>The input file should have the line <code class="docutils literal notranslate"><span class="pre">sim.step()</span></code> which runs the simulation.</p>
<ul class="simple">
<li><p><strong>Run</strong> the script with Python:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mpirun<span class="w"> </span>-np<span class="w"> </span>&lt;n_ranks&gt;<span class="w"> </span>python<span class="w"> </span>&lt;python_script&gt;
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">&lt;n_ranks&gt;</span></code> is the number of MPI ranks used, and <code class="docutils literal notranslate"><span class="pre">&lt;python_script&gt;</span></code>
is the name of the script.</p>
</section>
<section id="extending-a-simulation-from-python">
<h3>Extending a Simulation from Python<a class="headerlink" href="#extending-a-simulation-from-python" title="Link to this heading"></a></h3>
<p>When running WarpX directly from Python it is possible to interact with the simulation
by installing <code class="docutils literal notranslate"><span class="pre">CallbackFunctions</span></code>, which will execute a given Python function at a
specific location in the WarpX simulation loop.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pywarpx.callbacks.CallbackFunctions">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pywarpx.callbacks.</span></span><span class="sig-name descname"><span class="pre">CallbackFunctions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lcallonce</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pywarpx/callbacks.html#CallbackFunctions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pywarpx.callbacks.CallbackFunctions" title="Link to this definition"></a></dt>
<dd><p>Class to handle call back function lists.</p>
<p>Note that for functions passed in that are methods of a class instance,
a full reference of the instance is saved. This extra reference means
that the object will not actually be deleted if the user deletes the
original reference. This is good since the user does not need to keep
the reference to the object (for example it can be created using a local
variable in a function). It may be bad if the user thinks an object was
deleted, but it actually isn’t since it had (unkown to the user)
installed a method in one of the call back lists.</p>
</dd></dl>

<p>Places in the WarpX loop where callbacks are available include:
<code class="docutils literal notranslate"><span class="pre">afterinit</span></code>, <code class="docutils literal notranslate"><span class="pre">beforecollisions</span></code>, <code class="docutils literal notranslate"><span class="pre">aftercollisions</span></code>, <code class="docutils literal notranslate"><span class="pre">beforeEsolve</span></code>, <code class="docutils literal notranslate"><span class="pre">afterEsolve</span></code>,
<code class="docutils literal notranslate"><span class="pre">beforeInitEsolve</span></code>, <code class="docutils literal notranslate"><span class="pre">afterInitEsolve</span></code>, <code class="docutils literal notranslate"><span class="pre">beforedeposition</span></code>, <code class="docutils literal notranslate"><span class="pre">afterdeposition</span></code>,
<code class="docutils literal notranslate"><span class="pre">beforestep</span></code>, <code class="docutils literal notranslate"><span class="pre">afterstep</span></code>, <code class="docutils literal notranslate"><span class="pre">afterdiagnostics</span></code>,``afterrestart`` and <code class="docutils literal notranslate"><span class="pre">oncheckpointsignal</span></code>.
See the examples in <em>Examples/Tests/ParticleDataPython</em> for references on how to use
<code class="docutils literal notranslate"><span class="pre">callbacks</span></code>.</p>
<p>There are several “hooks” available via the <code class="docutils literal notranslate"><span class="pre">libwarpx</span></code> shared library to access and manipulate
simulation objects (particles, fields and memory buffers) as well as general properties
(such as processor number). These “hooks” are accessible through the <cite>Simulation.extension</cite> object.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.extension.getNProcs">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.Simulation.extension.</span></span><span class="sig-name descname"><span class="pre">getNProcs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.extension.getNProcs" title="Link to this definition"></a></dt>
<dd><p>Get the number of processors</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.extension.getMyProc">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.Simulation.extension.</span></span><span class="sig-name descname"><span class="pre">getMyProc</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.extension.getMyProc" title="Link to this definition"></a></dt>
<dd><p>Get the number of the processor</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.extension.get_nattr">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.Simulation.extension.</span></span><span class="sig-name descname"><span class="pre">get_nattr</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.extension.get_nattr" title="Link to this definition"></a></dt>
<dd><p>Get the number of extra particle attributes.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.extension.get_nattr_species">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.Simulation.extension.</span></span><span class="sig-name descname"><span class="pre">get_nattr_species</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">species_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.extension.get_nattr_species" title="Link to this definition"></a></dt>
<dd><p>Get the number of real attributes for the given species.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>species_name</strong> (<em>str</em>) – Name of the species</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.extension.getistep">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.Simulation.extension.</span></span><span class="sig-name descname"><span class="pre">getistep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.extension.getistep" title="Link to this definition"></a></dt>
<dd><p>Get the current time step number for the specified level</p>
<section id="parameter">
<h4>Parameter<a class="headerlink" href="#parameter" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>level<span class="classifier">int</span></dt><dd><p>The refinement level to reference</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.extension.gett_new">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.Simulation.extension.</span></span><span class="sig-name descname"><span class="pre">gett_new</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.extension.gett_new" title="Link to this definition"></a></dt>
<dd><p>Get the next time for the specified level.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>level</strong> (<em>int</em>) – The refinement level to reference</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.extension.evolve">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.Simulation.extension.</span></span><span class="sig-name descname"><span class="pre">evolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.extension.evolve" title="Link to this definition"></a></dt>
<dd><p>Evolve the simulation for num_steps steps. If num_steps=-1,
the simulation will be run until the end as specified in the
inputs file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>num_steps</strong> (<em>int</em>) – The number of steps to take</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.extension.finalize">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.Simulation.extension.</span></span><span class="sig-name descname"><span class="pre">finalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">finalize_mpi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.extension.finalize" title="Link to this definition"></a></dt>
<dd><p>Call finalize for WarpX and AMReX. Registered to run at program exit.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.extension.getProbLo">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.Simulation.extension.</span></span><span class="sig-name descname"><span class="pre">getProbLo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">direction</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.extension.getProbLo" title="Link to this definition"></a></dt>
<dd><p>Get the values of the lower domain boundary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>direction</strong> (<em>int</em>) – Direction of interest</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.extension.getProbHi">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.Simulation.extension.</span></span><span class="sig-name descname"><span class="pre">getProbHi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">direction</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.extension.getProbHi" title="Link to this definition"></a></dt>
<dd><p>Get the values of the upper domain boundary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>direction</strong> (<em>int</em>) – Direction of interest</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.extension.getCellSize">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.Simulation.extension.</span></span><span class="sig-name descname"><span class="pre">getCellSize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">direction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.extension.getCellSize" title="Link to this definition"></a></dt>
<dd><p>Get the cell size in the given direction and on the given level.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>direction</strong> (<em>int</em>) – Direction of interest</p></li>
<li><p><strong>level</strong> (<em>int</em>) – The refinement level to reference</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>Particles can be added to the simulation at specific positions and with specific
attribute values:</p>
<dl class="py function">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.extension.add_particles">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.Simulation.extension.</span></span><span class="sig-name descname"><span class="pre">add_particles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">species_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ux</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unique_particles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.extension.add_particles" title="Link to this definition"></a></dt>
<dd><p>A function for adding particles to the WarpX simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>species_name</strong> (<em>str</em>) – The type of species for which particles will be added</p></li>
<li><p><strong>x</strong> (<em>arrays</em><em> or </em><em>scalars</em>) – The particle positions (default = 0.)</p></li>
<li><p><strong>y</strong> (<em>arrays</em><em> or </em><em>scalars</em>) – The particle positions (default = 0.)</p></li>
<li><p><strong>z</strong> (<em>arrays</em><em> or </em><em>scalars</em>) – The particle positions (default = 0.)</p></li>
<li><p><strong>ux</strong> (<em>arrays</em><em> or </em><em>scalars</em>) – The particle momenta (default = 0.)</p></li>
<li><p><strong>uy</strong> (<em>arrays</em><em> or </em><em>scalars</em>) – The particle momenta (default = 0.)</p></li>
<li><p><strong>uz</strong> (<em>arrays</em><em> or </em><em>scalars</em>) – The particle momenta (default = 0.)</p></li>
<li><p><strong>w</strong> (<em>array</em><em> or </em><em>scalars</em>) – Particle weights (default = 0.)</p></li>
<li><p><strong>unique_particles</strong> (<em>bool</em>) – Whether the particles are unique or duplicated on several processes
(default = True)</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Containing an entry for all the extra particle attribute arrays. If
an attribute is not given it will be set to 0.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>Properties of the particles already in the simulation can be obtained with various
functions.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.extension.get_particle_count">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.Simulation.extension.</span></span><span class="sig-name descname"><span class="pre">get_particle_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">species_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.extension.get_particle_count" title="Link to this definition"></a></dt>
<dd><p>Get the number of particles of the specified species in the simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>species_name</strong> (<em>str</em>) – The species name that the number will be returned for</p></li>
<li><p><strong>local</strong> (<em>bool</em>) – If True the particle count on this processor will be returned.
Default False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An integer count of the number of particles</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.extension.get_particle_structs">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.Simulation.extension.</span></span><span class="sig-name descname"><span class="pre">get_particle_structs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">species_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.extension.get_particle_structs" title="Link to this definition"></a></dt>
<dd><p>This returns a list of numpy arrays containing the particle struct data
on each tile for this process. The particle data is represented as a structured
numpy array and contains the particle ‘x’, ‘y’, ‘z’, and ‘idcpu’.</p>
<p>The data for the numpy arrays are not copied, but share the underlying
memory buffer with WarpX. The numpy arrays are fully writeable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>species_name</strong> (<em>str</em>) – The species name that the data will be returned for</p></li>
<li><p><strong>level</strong> (<em>int</em>) – The refinement level to reference</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The requested particle struct data</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of numpy arrays</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.extension.get_particle_arrays">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.Simulation.extension.</span></span><span class="sig-name descname"><span class="pre">get_particle_arrays</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">species_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comp_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.extension.get_particle_arrays" title="Link to this definition"></a></dt>
<dd><p>This returns a list of numpy arrays containing the particle array data
on each tile for this process.</p>
<p>The data for the numpy arrays are not copied, but share the underlying
memory buffer with WarpX. The numpy arrays are fully writeable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>species_name</strong> (<em>str</em>) – The species name that the data will be returned for</p></li>
<li><p><strong>comp_name</strong> (<em>str</em>) – The component of the array data that will be returned</p></li>
<li><p><strong>level</strong> (<em>int</em>) – The refinement level to reference</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The requested particle array data</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of numpy arrays</p>
</dd>
</dl>
</dd></dl>

<p>The <code class="docutils literal notranslate"><span class="pre">get_particle_structs()</span></code> and <code class="docutils literal notranslate"><span class="pre">get_particle_arrays()</span></code> functions are called
by several utility functions of the form <code class="docutils literal notranslate"><span class="pre">get_particle_{comp_name}</span></code> where
<code class="docutils literal notranslate"><span class="pre">comp_name</span></code> is one of <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, <code class="docutils literal notranslate"><span class="pre">z</span></code>, <code class="docutils literal notranslate"><span class="pre">r</span></code>, <code class="docutils literal notranslate"><span class="pre">theta</span></code>, <code class="docutils literal notranslate"><span class="pre">id</span></code>, <code class="docutils literal notranslate"><span class="pre">cpu</span></code>,
<code class="docutils literal notranslate"><span class="pre">weight</span></code>, <code class="docutils literal notranslate"><span class="pre">ux</span></code>, <code class="docutils literal notranslate"><span class="pre">uy</span></code> or <code class="docutils literal notranslate"><span class="pre">uz</span></code>.</p>
<p>The index of some specific component of the particle data can be obtained.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.extension.get_particle_comp_index">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.Simulation.extension.</span></span><span class="sig-name descname"><span class="pre">get_particle_comp_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">species_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pid_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.extension.get_particle_comp_index" title="Link to this definition"></a></dt>
<dd><p>Get the component index for a given particle attribute. This is useful
to get the corrent ordering of attributes when adding new particles using
<cite>add_particles()</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>species_name</strong> (<em>str</em>) – The name of the species</p></li>
<li><p><strong>pid_name</strong> (<em>str</em>) – Name of the component for which the index will be returned</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Integer corresponding to the index of the requested attribute</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<p>New components can be added via Python.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.extension.add_real_comp">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.Simulation.extension.</span></span><span class="sig-name descname"><span class="pre">add_real_comp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">species_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pid_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.extension.add_real_comp" title="Link to this definition"></a></dt>
<dd><p>Add a real component to the particle data array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>species_name</strong> (<em>str</em>) – The species name for which the new component will be added</p></li>
<li><p><strong>pid_name</strong> (<em>str</em>) – Name that can be used to identify the new component</p></li>
<li><p><strong>comm</strong> (<em>bool</em>) – Should the component be communicated</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>Various diagnostics are also accessible from Python.
This includes getting the deposited or total charge density from a given species
as well as accessing the scraped particle buffer. See the example in
<em>Examples/Tests/ParticleBoudaryScrape</em> for a reference on how to interact
with scraped particle data.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.extension.get_species_charge_sum">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.Simulation.extension.</span></span><span class="sig-name descname"><span class="pre">get_species_charge_sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">species_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.extension.get_species_charge_sum" title="Link to this definition"></a></dt>
<dd><p>Returns the total charge in the simulation due to the given species.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>species_name</strong> (<em>str</em>) – The species name for which charge will be summed</p></li>
<li><p><strong>local</strong> (<em>bool</em>) – If True return total charge per processor</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.extension.depositChargeDensity">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.Simulation.extension.</span></span><span class="sig-name descname"><span class="pre">depositChargeDensity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">species_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear_rho</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sync_rho</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.extension.depositChargeDensity" title="Link to this definition"></a></dt>
<dd><p>Deposit the specified species’ charge density in rho_fp in order to
access that data via pywarpx.fields.RhoFPWrapper().</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>species_name</strong> (<em>str</em>) – The species name that will be deposited.</p></li>
<li><p><strong>level</strong> (<em>int</em>) – Which AMR level to retrieve scraped particle data from.</p></li>
<li><p><strong>clear_rho</strong> (<em>bool</em>) – If True, zero out rho_fp before deposition.</p></li>
<li><p><strong>sync_rho</strong> (<em>bool</em>) – If True, perform MPI exchange and properly set boundary cells for rho_fp.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.extension.get_particle_boundary_buffer_size">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.Simulation.extension.</span></span><span class="sig-name descname"><span class="pre">get_particle_boundary_buffer_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">species_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.extension.get_particle_boundary_buffer_size" title="Link to this definition"></a></dt>
<dd><p>This returns the number of particles that have been scraped so far in the simulation
from the specified boundary and of the specified species.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>species_name</strong> (<em>str</em>) – Return the number of scraped particles of this species</p></li>
<li><p><strong>boundary</strong> (<em>str</em>) – The boundary from which to get the scraped particle data in the
form x/y/z_hi/lo</p></li>
<li><p><strong>local</strong> (<em>bool</em>) – Whether to only return the number of particles in the current
processor’s buffer</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.extension.get_particle_boundary_buffer_structs">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.Simulation.extension.</span></span><span class="sig-name descname"><span class="pre">get_particle_boundary_buffer_structs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">species_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.extension.get_particle_boundary_buffer_structs" title="Link to this definition"></a></dt>
<dd><p>This returns a list of numpy arrays containing the particle struct data
for a species that has been scraped by a specific simulation boundary. The
particle data is represented as a structured numpy array and contains the
particle ‘x’, ‘y’, ‘z’, and ‘idcpu’.</p>
<p>The data for the numpy arrays are not copied, but share the underlying
memory buffer with WarpX. The numpy arrays are fully writeable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>species_name</strong> (<em>str</em>) – The species name that the data will be returned for</p></li>
<li><p><strong>boundary</strong> (<em>str</em>) – The boundary from which to get the scraped particle data in the
form x/y/z_hi/lo or eb.</p></li>
<li><p><strong>level</strong> (<em>int</em>) – Which AMR level to retrieve scraped particle data from.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.extension.get_particle_boundary_buffer">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.Simulation.extension.</span></span><span class="sig-name descname"><span class="pre">get_particle_boundary_buffer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">species_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comp_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.extension.get_particle_boundary_buffer" title="Link to this definition"></a></dt>
<dd><p>This returns a list of numpy arrays containing the particle array data
for a species that has been scraped by a specific simulation boundary.</p>
<p>The data for the numpy arrays are not copied, but share the underlying
memory buffer with WarpX. The numpy arrays are fully writeable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>species_name</strong> (<em>str</em>) – The species name that the data will be returned for.</p></li>
<li><p><strong>boundary</strong> (<em>str</em>) – The boundary from which to get the scraped particle data in the
form x/y/z_hi/lo or eb.</p></li>
<li><p><strong>comp_name</strong> (<em>str</em>) – The component of the array data that will be returned. If
“step_scraped” the special attribute holding the timestep at
which a particle was scraped will be returned.</p></li>
<li><p><strong>level</strong> (<em>int</em>) – Which AMR level to retrieve scraped particle data from.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.extension.clearParticleBoundaryBuffer">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.Simulation.extension.</span></span><span class="sig-name descname"><span class="pre">clearParticleBoundaryBuffer</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.extension.clearParticleBoundaryBuffer" title="Link to this definition"></a></dt>
<dd><p>Clear the buffer that holds the particles lost at the boundaries.</p>
</dd></dl>

<p>The embedded boundary conditions can be modified when using the electrostatic solver.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pywarpx.picmi.Simulation.extension.set_potential_EB">
<span class="sig-prename descclassname"><span class="pre">pywarpx.picmi.Simulation.extension.</span></span><span class="sig-name descname"><span class="pre">set_potential_EB</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">potential</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pywarpx.picmi.Simulation.extension.set_potential_EB" title="Link to this definition"></a></dt>
<dd><p>Set the expression string for the embedded boundary potential</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>potential</strong> (<em>str</em>) – The expression string</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="using-python-input-as-a-preprocessor">
<h3>Using Python input as a preprocessor<a class="headerlink" href="#using-python-input-as-a-preprocessor" title="Link to this heading"></a></h3>
<p>In this case, only the pure Python version needs to be installed, as described <a class="reference internal" href="../developers/gnumake/python.html#developers-gnumake-python"><span class="std std-ref">here</span></a>.</p>
<p>In order to run a new simulation:</p>
<ul class="simple">
<li><p>Create a <strong>new directory</strong>, where the simulation will be run.</p></li>
<li><p>Add a <strong>Python script</strong> in the directory.</p></li>
</ul>
<p>The input file should have the line like <code class="docutils literal notranslate"><span class="pre">sim.write_input_file(file_name</span> <span class="pre">=</span> <span class="pre">'inputs_from_PICMI')</span></code>
which runs the preprocessor, generating the AMReX inputs file.</p>
<ul class="simple">
<li><p><strong>Run</strong> the script with Python:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>&lt;python_script&gt;
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">&lt;python_script&gt;</span></code> is the name of the script.
This creates the WarpX input file that you can run as normal with the WarpX executable.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="parameters.html" class="btn btn-neutral float-left" title="Input Parameters" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="examples.html" class="btn btn-neutral float-right" title="Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-2024, MicroEleX collaboration.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>